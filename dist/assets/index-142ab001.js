(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function jv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Up={exports:{}},ml={},zp={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=Symbol.for("react.element"),Bv=Symbol.for("react.portal"),Vv=Symbol.for("react.fragment"),Hv=Symbol.for("react.strict_mode"),Wv=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Kv=Symbol.for("react.context"),Qv=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),qv=Symbol.for("react.memo"),Xv=Symbol.for("react.lazy"),wf=Symbol.iterator;function bv(e){return e===null||typeof e!="object"?null:(e=wf&&e[wf]||e["@@iterator"],typeof e=="function"?e:null)}var jp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bp=Object.assign,Vp={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=Vp,this.updater=n||jp}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hp(){}Hp.prototype=Wr.prototype;function _c(e,t,n){this.props=e,this.context=t,this.refs=Vp,this.updater=n||jp}var yc=_c.prototype=new Hp;yc.constructor=_c;Bp(yc,Wr.prototype);yc.isPureReactComponent=!0;var Cf=Array.isArray,Wp=Object.prototype.hasOwnProperty,vc={current:null},Gp={key:!0,ref:!0,__self:!0,__source:!0};function Kp(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Wp.call(t,r)&&!Gp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vs,type:e,key:s,ref:o,props:i,_owner:vc.current}}function Jv(e,t){return{$$typeof:vs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===vs}function Zv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sf=/\/+/g;function iu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zv(""+e.key):t.toString(36)}function co(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vs:case Bv:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+iu(o,0):r,Cf(i)?(n="",e!=null&&(n=e.replace(Sf,"$&/")+"/"),co(i,t,n,"",function(a){return a})):i!=null&&(Ec(i)&&(i=Jv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Sf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Cf(e))for(var l=0;l<e.length;l++){s=e[l];var u=r+iu(s,l);o+=co(s,t,n,u,i)}else if(u=bv(e),typeof u=="function")for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=r+iu(s,l++),o+=co(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bs(e,t,n){if(e==null)return e;var r=[],i=0;return co(e,r,"","",function(s){return t.call(n,s,i++)}),r}function e0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},ho={transition:null},t0={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ho,ReactCurrentOwner:vc};$.Children={map:Bs,forEach:function(e,t,n){Bs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bs(e,function(){t++}),t},toArray:function(e){return Bs(e,function(t){return t})||[]},only:function(e){if(!Ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=Wr;$.Fragment=Vv;$.Profiler=Wv;$.PureComponent=_c;$.StrictMode=Hv;$.Suspense=Yv;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=vc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Wp.call(t,u)&&!Gp.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:vs,type:e.type,key:i,ref:s,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:Kv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gv,_context:e},e.Consumer=e};$.createElement=Kp;$.createFactory=function(e){var t=Kp.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:Qv,render:e}};$.isValidElement=Ec;$.lazy=function(e){return{$$typeof:Xv,_payload:{_status:-1,_result:e},_init:e0}};$.memo=function(e,t){return{$$typeof:qv,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=ho.transition;ho.transition={};try{e()}finally{ho.transition=t}};$.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};$.useCallback=function(e,t){return je.current.useCallback(e,t)};$.useContext=function(e){return je.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return je.current.useDeferredValue(e)};$.useEffect=function(e,t){return je.current.useEffect(e,t)};$.useId=function(){return je.current.useId()};$.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return je.current.useMemo(e,t)};$.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};$.useRef=function(e){return je.current.useRef(e)};$.useState=function(e){return je.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return je.current.useTransition()};$.version="18.2.0";zp.exports=$;var Fi=zp.exports;const n0=jv(Fi);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=Fi,i0=Symbol.for("react.element"),s0=Symbol.for("react.fragment"),o0=Object.prototype.hasOwnProperty,l0=r0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u0={key:!0,ref:!0,__self:!0,__source:!0};function Qp(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)o0.call(t,r)&&!u0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:i0,type:e,key:s,ref:o,props:i,_owner:l0.current}}ml.Fragment=s0;ml.jsx=Qp;ml.jsxs=Qp;Up.exports=ml;var V=Up.exports,Qu={},Yp={exports:{}},nt={},qp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var O=I.length;I.push(D);e:for(;0<O;){var oe=O-1>>>1,de=I[oe];if(0<i(de,D))I[oe]=D,I[O]=de,O=oe;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var D=I[0],O=I.pop();if(O!==D){I[0]=O;e:for(var oe=0,de=I.length,zs=de>>>1;oe<zs;){var In=2*(oe+1)-1,ru=I[In],kn=In+1,js=I[kn];if(0>i(ru,O))kn<de&&0>i(js,ru)?(I[oe]=js,I[kn]=O,oe=kn):(I[oe]=ru,I[In]=O,oe=In);else if(kn<de&&0>i(js,O))I[oe]=js,I[kn]=O,oe=kn;else break e}}return D}function i(I,D){var O=I.sortIndex-D.sortIndex;return O!==0?O:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],a=[],h=1,c=null,f=3,m=!1,_=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var D=n(a);D!==null;){if(D.callback===null)r(a);else if(D.startTime<=I)r(a),D.sortIndex=D.expirationTime,t(u,D);else break;D=n(a)}}function v(I){if(y=!1,g(I),!_)if(n(u)!==null)_=!0,tu(T);else{var D=n(a);D!==null&&nu(v,D.startTime-I)}}function T(I,D){_=!1,y&&(y=!1,p(R),R=-1),m=!0;var O=f;try{for(g(D),c=n(u);c!==null&&(!(c.expirationTime>D)||I&&!ft());){var oe=c.callback;if(typeof oe=="function"){c.callback=null,f=c.priorityLevel;var de=oe(c.expirationTime<=D);D=e.unstable_now(),typeof de=="function"?c.callback=de:c===n(u)&&r(u),g(D)}else r(u);c=n(u)}if(c!==null)var zs=!0;else{var In=n(a);In!==null&&nu(v,In.startTime-D),zs=!1}return zs}finally{c=null,f=O,m=!1}}var k=!1,N=null,R=-1,se=5,U=-1;function ft(){return!(e.unstable_now()-U<se)}function ei(){if(N!==null){var I=e.unstable_now();U=I;var D=!0;try{D=N(!0,I)}finally{D?ti():(k=!1,N=null)}}else k=!1}var ti;if(typeof d=="function")ti=function(){d(ei)};else if(typeof MessageChannel<"u"){var Ef=new MessageChannel,zv=Ef.port2;Ef.port1.onmessage=ei,ti=function(){zv.postMessage(null)}}else ti=function(){A(ei,0)};function tu(I){N=I,k||(k=!0,ti())}function nu(I,D){R=A(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){_||m||(_=!0,tu(T))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var O=f;f=D;try{return I()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=f;f=I;try{return D()}finally{f=O}},e.unstable_scheduleCallback=function(I,D,O){var oe=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?oe+O:oe):O=oe,I){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=O+de,I={id:h++,callback:D,priorityLevel:I,startTime:O,expirationTime:de,sortIndex:-1},O>oe?(I.sortIndex=O,t(a,I),n(u)===null&&I===n(a)&&(y?(p(R),R=-1):y=!0,nu(v,O-oe))):(I.sortIndex=de,t(u,I),_||m||(_=!0,tu(T))),I},e.unstable_shouldYield=ft,e.unstable_wrapCallback=function(I){var D=f;return function(){var O=f;f=D;try{return I.apply(this,arguments)}finally{f=O}}}})(Xp);qp.exports=Xp;var a0=qp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Fi,tt=a0;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jp=new Set,$i={};function bn(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for($i[e]=t,e=0;e<t.length;e++)Jp.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=Object.prototype.hasOwnProperty,c0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tf={},If={};function h0(e){return Yu.call(If,e)?!0:Yu.call(Tf,e)?!1:c0.test(e)?If[e]=!0:(Tf[e]=!0,!1)}function f0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d0(e,t,n,r){if(t===null||typeof t>"u"||f0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var wc=/[\-:]([a-z])/g;function Cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wc,Cc);Ie[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wc,Cc);Ie[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wc,Cc);Ie[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sc(e,t,n,r){var i=Ie.hasOwnProperty(t)?Ie[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d0(t,n,i,r)&&(n=null),r||i===null?h0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),ir=Symbol.for("react.portal"),sr=Symbol.for("react.fragment"),Tc=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),Zp=Symbol.for("react.provider"),eg=Symbol.for("react.context"),Ic=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),bu=Symbol.for("react.suspense_list"),kc=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),tg=Symbol.for("react.offscreen"),kf=Symbol.iterator;function ni(e){return e===null||typeof e!="object"?null:(e=kf&&e[kf]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,su;function mi(e){if(su===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);su=t&&t[1]||""}return`
`+su+e}var ou=!1;function lu(e,t){if(!e||ou)return"";ou=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{ou=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function p0(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=lu(e.type,!1),e;case 11:return e=lu(e.type.render,!1),e;case 1:return e=lu(e.type,!0),e;default:return""}}function Ju(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sr:return"Fragment";case ir:return"Portal";case qu:return"Profiler";case Tc:return"StrictMode";case Xu:return"Suspense";case bu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eg:return(e.displayName||"Context")+".Consumer";case Zp:return(e._context.displayName||"Context")+".Provider";case Ic:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kc:return t=e.displayName||null,t!==null?t:Ju(e.type)||"Memo";case bt:t=e._payload,e=e._init;try{return Ju(e(t))}catch{}}return null}function g0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ju(t);case 8:return t===Tc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ng(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m0(e){var t=ng(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hs(e){e._valueTracker||(e._valueTracker=m0(e))}function rg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ng(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function So(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zu(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ig(e,t){t=t.checked,t!=null&&Sc(e,"checked",t,!1)}function ea(e,t){ig(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ta(e,t.type,n):t.hasOwnProperty("defaultValue")&&ta(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ta(e,t,n){(t!=="number"||So(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _i=Array.isArray;function vr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(_i(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function sg(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function og(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?og(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ws,lg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ui(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_0=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(e){_0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ci[t]=Ci[e]})});function ug(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ci.hasOwnProperty(e)&&Ci[e]?(""+t).trim():t+"px"}function ag(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ug(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var y0=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(e,t){if(t){if(y0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=null;function Nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,Er=null,wr=null;function Af(e){if(e=Cs(e)){if(typeof la!="function")throw Error(E(280));var t=e.stateNode;t&&(t=wl(t),la(e.stateNode,e.type,t))}}function cg(e){Er?wr?wr.push(e):wr=[e]:Er=e}function hg(){if(Er){var e=Er,t=wr;if(wr=Er=null,Af(e),t)for(e=0;e<t.length;e++)Af(t[e])}}function fg(e,t){return e(t)}function dg(){}var uu=!1;function pg(e,t,n){if(uu)return e(t,n);uu=!0;try{return fg(e,t,n)}finally{uu=!1,(Er!==null||wr!==null)&&(dg(),hg())}}function zi(e,t){var n=e.stateNode;if(n===null)return null;var r=wl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var ua=!1;if(Bt)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){ua=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{ua=!1}function v0(e,t,n,r,i,s,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(h){this.onError(h)}}var Si=!1,To=null,Io=!1,aa=null,E0={onError:function(e){Si=!0,To=e}};function w0(e,t,n,r,i,s,o,l,u){Si=!1,To=null,v0.apply(E0,arguments)}function C0(e,t,n,r,i,s,o,l,u){if(w0.apply(this,arguments),Si){if(Si){var a=To;Si=!1,To=null}else throw Error(E(198));Io||(Io=!0,aa=a)}}function Jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Df(e){if(Jn(e)!==e)throw Error(E(188))}function S0(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Df(i),e;if(s===r)return Df(i),t;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function mg(e){return e=S0(e),e!==null?_g(e):null}function _g(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_g(e);if(t!==null)return t;e=e.sibling}return null}var yg=tt.unstable_scheduleCallback,Of=tt.unstable_cancelCallback,T0=tt.unstable_shouldYield,I0=tt.unstable_requestPaint,le=tt.unstable_now,k0=tt.unstable_getCurrentPriorityLevel,Rc=tt.unstable_ImmediatePriority,vg=tt.unstable_UserBlockingPriority,ko=tt.unstable_NormalPriority,N0=tt.unstable_LowPriority,Eg=tt.unstable_IdlePriority,_l=null,Pt=null;function R0(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(_l,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:A0,x0=Math.log,P0=Math.LN2;function A0(e){return e>>>=0,e===0?32:31-(x0(e)/P0|0)|0}var Gs=64,Ks=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function No(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=yi(l):(s&=o,s!==0&&(r=yi(s)))}else o=n&~i,o!==0?r=yi(o):s!==0&&(r=yi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Et(t),i=1<<n,r|=e[n],t&=~i;return r}function D0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Et(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=D0(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}}function ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wg(){var e=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),e}function au(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function L0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Et(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function xc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var W=0;function Cg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sg,Pc,Tg,Ig,kg,ha=!1,Qs=[],rn=null,sn=null,on=null,ji=new Map,Bi=new Map,Zt=[],M0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lf(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function ii(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Cs(t),t!==null&&Pc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function F0(e,t,n,r,i){switch(t){case"focusin":return rn=ii(rn,e,t,n,r,i),!0;case"dragenter":return sn=ii(sn,e,t,n,r,i),!0;case"mouseover":return on=ii(on,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ji.set(s,ii(ji.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bi.set(s,ii(Bi.get(s)||null,e,t,n,r,i)),!0}return!1}function Ng(e){var t=An(e.target);if(t!==null){var n=Jn(t);if(n!==null){if(t=n.tag,t===13){if(t=gg(n),t!==null){e.blockedOn=t,kg(e.priority,function(){Tg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);oa=r,n.target.dispatchEvent(r),oa=null}else return t=Cs(n),t!==null&&Pc(t),e.blockedOn=n,!1;t.shift()}return!0}function Mf(e,t,n){fo(e)&&n.delete(t)}function $0(){ha=!1,rn!==null&&fo(rn)&&(rn=null),sn!==null&&fo(sn)&&(sn=null),on!==null&&fo(on)&&(on=null),ji.forEach(Mf),Bi.forEach(Mf)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,ha||(ha=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,$0)))}function Vi(e){function t(i){return si(i,e)}if(0<Qs.length){si(Qs[0],e);for(var n=1;n<Qs.length;n++){var r=Qs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&si(rn,e),sn!==null&&si(sn,e),on!==null&&si(on,e),ji.forEach(t),Bi.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Ng(n),n.blockedOn===null&&Zt.shift()}var Cr=Qt.ReactCurrentBatchConfig,Ro=!0;function U0(e,t,n,r){var i=W,s=Cr.transition;Cr.transition=null;try{W=1,Ac(e,t,n,r)}finally{W=i,Cr.transition=s}}function z0(e,t,n,r){var i=W,s=Cr.transition;Cr.transition=null;try{W=4,Ac(e,t,n,r)}finally{W=i,Cr.transition=s}}function Ac(e,t,n,r){if(Ro){var i=fa(e,t,n,r);if(i===null)vu(e,t,r,xo,n),Lf(e,r);else if(F0(i,e,t,n,r))r.stopPropagation();else if(Lf(e,r),t&4&&-1<M0.indexOf(e)){for(;i!==null;){var s=Cs(i);if(s!==null&&Sg(s),s=fa(e,t,n,r),s===null&&vu(e,t,r,xo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vu(e,t,r,null,n)}}var xo=null;function fa(e,t,n,r){if(xo=null,e=Nc(r),e=An(e),e!==null)if(t=Jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xo=e,null}function Rg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k0()){case Rc:return 1;case vg:return 4;case ko:case N0:return 16;case Eg:return 536870912;default:return 16}default:return 16}}var tn=null,Dc=null,po=null;function xg(){if(po)return po;var e,t=Dc,n=t.length,r,i="value"in tn?tn.value:tn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return po=i.slice(e,1<r?1-r:void 0)}function go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function Ff(){return!1}function rt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ys:Ff,this.isPropagationStopped=Ff,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=rt(Gr),ws=ne({},Gr,{view:0,detail:0}),j0=rt(ws),cu,hu,oi,yl=ne({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(cu=e.screenX-oi.screenX,hu=e.screenY-oi.screenY):hu=cu=0,oi=e),cu)},movementY:function(e){return"movementY"in e?e.movementY:hu}}),$f=rt(yl),B0=ne({},yl,{dataTransfer:0}),V0=rt(B0),H0=ne({},ws,{relatedTarget:0}),fu=rt(H0),W0=ne({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),G0=rt(W0),K0=ne({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q0=rt(K0),Y0=ne({},Gr,{data:0}),Uf=rt(Y0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b0[e])?!!t[e]:!1}function Lc(){return J0}var Z0=ne({},ws,{key:function(e){if(e.key){var t=q0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?X0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(e){return e.type==="keypress"?go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e1=rt(Z0),t1=ne({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=rt(t1),n1=ne({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),r1=rt(n1),i1=ne({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),s1=rt(i1),o1=ne({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),l1=rt(o1),u1=[9,13,27,32],Mc=Bt&&"CompositionEvent"in window,Ti=null;Bt&&"documentMode"in document&&(Ti=document.documentMode);var a1=Bt&&"TextEvent"in window&&!Ti,Pg=Bt&&(!Mc||Ti&&8<Ti&&11>=Ti),jf=String.fromCharCode(32),Bf=!1;function Ag(e,t){switch(e){case"keyup":return u1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function c1(e,t){switch(e){case"compositionend":return Dg(t);case"keypress":return t.which!==32?null:(Bf=!0,jf);case"textInput":return e=t.data,e===jf&&Bf?null:e;default:return null}}function h1(e,t){if(or)return e==="compositionend"||!Mc&&Ag(e,t)?(e=xg(),po=Dc=tn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pg&&t.locale!=="ko"?null:t.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f1[e.type]:t==="textarea"}function Og(e,t,n,r){cg(r),t=Po(t,"onChange"),0<t.length&&(n=new Oc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ii=null,Hi=null;function d1(e){Wg(e,0)}function vl(e){var t=ar(e);if(rg(t))return e}function p1(e,t){if(e==="change")return t}var Lg=!1;if(Bt){var du;if(Bt){var pu="oninput"in document;if(!pu){var Hf=document.createElement("div");Hf.setAttribute("oninput","return;"),pu=typeof Hf.oninput=="function"}du=pu}else du=!1;Lg=du&&(!document.documentMode||9<document.documentMode)}function Wf(){Ii&&(Ii.detachEvent("onpropertychange",Mg),Hi=Ii=null)}function Mg(e){if(e.propertyName==="value"&&vl(Hi)){var t=[];Og(t,Hi,e,Nc(e)),pg(d1,t)}}function g1(e,t,n){e==="focusin"?(Wf(),Ii=t,Hi=n,Ii.attachEvent("onpropertychange",Mg)):e==="focusout"&&Wf()}function m1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vl(Hi)}function _1(e,t){if(e==="click")return vl(t)}function y1(e,t){if(e==="input"||e==="change")return vl(t)}function v1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:v1;function Wi(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yu.call(t,i)||!St(e[i],t[i]))return!1}return!0}function Gf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kf(e,t){var n=Gf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gf(n)}}function Fg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $g(){for(var e=window,t=So();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=So(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E1(e){var t=$g(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fg(n.ownerDocument.documentElement,n)){if(r!==null&&Fc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Kf(n,s);var o=Kf(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w1=Bt&&"documentMode"in document&&11>=document.documentMode,lr=null,da=null,ki=null,pa=!1;function Qf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pa||lr==null||lr!==So(r)||(r=lr,"selectionStart"in r&&Fc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ki&&Wi(ki,r)||(ki=r,r=Po(da,"onSelect"),0<r.length&&(t=new Oc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function qs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionend:qs("Transition","TransitionEnd")},gu={},Ug={};Bt&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function El(e){if(gu[e])return gu[e];if(!ur[e])return e;var t=ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ug)return gu[e]=t[n];return e}var zg=El("animationend"),jg=El("animationiteration"),Bg=El("animationstart"),Vg=El("transitionend"),Hg=new Map,Yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Hg.set(e,t),bn(t,[e])}for(var mu=0;mu<Yf.length;mu++){var _u=Yf[mu],C1=_u.toLowerCase(),S1=_u[0].toUpperCase()+_u.slice(1);En(C1,"on"+S1)}En(zg,"onAnimationEnd");En(jg,"onAnimationIteration");En(Bg,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Vg,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function qf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,C0(r,t,void 0,e),e.currentTarget=null}function Wg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;qf(i,l,a),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;qf(i,l,a),s=u}}}if(Io)throw e=aa,Io=!1,aa=null,e}function q(e,t){var n=t[va];n===void 0&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(Gg(t,e,2,!1),n.add(r))}function yu(e,t,n){var r=0;t&&(r|=4),Gg(n,e,r,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Xs]){e[Xs]=!0,Jp.forEach(function(n){n!=="selectionchange"&&(T1.has(n)||yu(n,!1,e),yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,yu("selectionchange",!1,t))}}function Gg(e,t,n,r){switch(Rg(t)){case 1:var i=U0;break;case 4:i=z0;break;default:i=Ac}n=i.bind(null,t,n,e),i=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=An(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}pg(function(){var a=s,h=Nc(n),c=[];e:{var f=Hg.get(e);if(f!==void 0){var m=Oc,_=e;switch(e){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":m=e1;break;case"focusin":_="focus",m=fu;break;case"focusout":_="blur",m=fu;break;case"beforeblur":case"afterblur":m=fu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=r1;break;case zg:case jg:case Bg:m=G0;break;case Vg:m=s1;break;case"scroll":m=j0;break;case"wheel":m=l1;break;case"copy":case"cut":case"paste":m=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zf}var y=(t&4)!==0,A=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var d=a,g;d!==null;){g=d;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,p!==null&&(v=zi(d,p),v!=null&&y.push(Ki(d,v,g)))),A)break;d=d.return}0<y.length&&(f=new m(f,_,null,n,h),c.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==oa&&(_=n.relatedTarget||n.fromElement)&&(An(_)||_[Vt]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=a,_=_?An(_):null,_!==null&&(A=Jn(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=a),m!==_)){if(y=$f,v="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(y=zf,v="onPointerLeave",p="onPointerEnter",d="pointer"),A=m==null?f:ar(m),g=_==null?f:ar(_),f=new y(v,d+"leave",m,n,h),f.target=A,f.relatedTarget=g,v=null,An(h)===a&&(y=new y(p,d+"enter",_,n,h),y.target=g,y.relatedTarget=A,v=y),A=v,m&&_)t:{for(y=m,p=_,d=0,g=y;g;g=tr(g))d++;for(g=0,v=p;v;v=tr(v))g++;for(;0<d-g;)y=tr(y),d--;for(;0<g-d;)p=tr(p),g--;for(;d--;){if(y===p||p!==null&&y===p.alternate)break t;y=tr(y),p=tr(p)}y=null}else y=null;m!==null&&Xf(c,f,m,y,!1),_!==null&&A!==null&&Xf(c,A,_,y,!0)}}e:{if(f=a?ar(a):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=p1;else if(Vf(f))if(Lg)T=y1;else{T=m1;var k=g1}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=_1);if(T&&(T=T(e,a))){Og(c,T,n,h);break e}k&&k(e,f,a),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ta(f,"number",f.value)}switch(k=a?ar(a):window,e){case"focusin":(Vf(k)||k.contentEditable==="true")&&(lr=k,da=a,ki=null);break;case"focusout":ki=da=lr=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,Qf(c,n,h);break;case"selectionchange":if(w1)break;case"keydown":case"keyup":Qf(c,n,h)}var N;if(Mc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else or?Ag(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Pg&&n.locale!=="ko"&&(or||R!=="onCompositionStart"?R==="onCompositionEnd"&&or&&(N=xg()):(tn=h,Dc="value"in tn?tn.value:tn.textContent,or=!0)),k=Po(a,R),0<k.length&&(R=new Uf(R,e,null,n,h),c.push({event:R,listeners:k}),N?R.data=N:(N=Dg(n),N!==null&&(R.data=N)))),(N=a1?c1(e,n):h1(e,n))&&(a=Po(a,"onBeforeInput"),0<a.length&&(h=new Uf("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:a}),h.data=N))}Wg(c,t)})}function Ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Po(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zi(e,n),s!=null&&r.unshift(Ki(e,s,i)),s=zi(e,t),s!=null&&r.push(Ki(e,s,i))),e=e.return}return r}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xf(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,i?(u=zi(n,s),u!=null&&o.unshift(Ki(n,u,l))):i||(u=zi(n,s),u!=null&&o.push(Ki(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var I1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function bf(e){return(typeof e=="string"?e:""+e).replace(I1,`
`).replace(k1,"")}function bs(e,t,n){if(t=bf(t),bf(e)!==t&&n)throw Error(E(425))}function Ao(){}var ga=null,ma=null;function _a(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,R1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(e){return Jf.resolve(null).then(e).catch(x1)}:ya;function x1(e){setTimeout(function(){throw e})}function Eu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vi(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),kt="__reactFiber$"+Kr,Qi="__reactProps$"+Kr,Vt="__reactContainer$"+Kr,va="__reactEvents$"+Kr,P1="__reactListeners$"+Kr,A1="__reactHandles$"+Kr;function An(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zf(e);e!==null;){if(n=e[kt])return n;e=Zf(e)}return t}e=n,n=e.parentNode}return null}function Cs(e){return e=e[kt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function wl(e){return e[Qi]||null}var Ea=[],cr=-1;function wn(e){return{current:e}}function J(e){0>cr||(e.current=Ea[cr],Ea[cr]=null,cr--)}function Y(e,t){cr++,Ea[cr]=e.current,e.current=t}var _n={},Fe=wn(_n),Ke=wn(!1),Bn=_n;function Dr(e,t){var n=e.type.contextTypes;if(!n)return _n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qe(e){return e=e.childContextTypes,e!=null}function Do(){J(Ke),J(Fe)}function ed(e,t,n){if(Fe.current!==_n)throw Error(E(168));Y(Fe,t),Y(Ke,n)}function Kg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(E(108,g0(e)||"Unknown",i));return ne({},n,r)}function Oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,Bn=Fe.current,Y(Fe,e),Y(Ke,Ke.current),!0}function td(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Kg(e,t,Bn),r.__reactInternalMemoizedMergedChildContext=e,J(Ke),J(Fe),Y(Fe,e)):J(Ke),Y(Ke,n)}var Lt=null,Cl=!1,wu=!1;function Qg(e){Lt===null?Lt=[e]:Lt.push(e)}function D1(e){Cl=!0,Qg(e)}function Cn(){if(!wu&&Lt!==null){wu=!0;var e=0,t=W;try{var n=Lt;for(W=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,Cl=!1}catch(i){throw Lt!==null&&(Lt=Lt.slice(e+1)),yg(Rc,Cn),i}finally{W=t,wu=!1}}return null}var hr=[],fr=0,Lo=null,Mo=0,it=[],st=0,Vn=null,Mt=1,Ft="";function Nn(e,t){hr[fr++]=Mo,hr[fr++]=Lo,Lo=e,Mo=t}function Yg(e,t,n){it[st++]=Mt,it[st++]=Ft,it[st++]=Vn,Vn=e;var r=Mt;e=Ft;var i=32-Et(r)-1;r&=~(1<<i),n+=1;var s=32-Et(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mt=1<<32-Et(t)+i|n<<i|r,Ft=s+e}else Mt=1<<s|n<<i|r,Ft=e}function $c(e){e.return!==null&&(Nn(e,1),Yg(e,1,0))}function Uc(e){for(;e===Lo;)Lo=hr[--fr],hr[fr]=null,Mo=hr[--fr],hr[fr]=null;for(;e===Vn;)Vn=it[--st],it[st]=null,Ft=it[--st],it[st]=null,Mt=it[--st],it[st]=null}var Ze=null,be=null,Z=!1,mt=null;function qg(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,be=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Mt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,be=null,!0):!1;default:return!1}}function wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ca(e){if(Z){var t=be;if(t){var n=t;if(!nd(e,t)){if(wa(e))throw Error(E(418));t=ln(n.nextSibling);var r=Ze;t&&nd(e,t)?qg(r,n):(e.flags=e.flags&-4097|2,Z=!1,Ze=e)}}else{if(wa(e))throw Error(E(418));e.flags=e.flags&-4097|2,Z=!1,Ze=e}}}function rd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Js(e){if(e!==Ze)return!1;if(!Z)return rd(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_a(e.type,e.memoizedProps)),t&&(t=be)){if(wa(e))throw Xg(),Error(E(418));for(;t;)qg(e,t),t=ln(t.nextSibling)}if(rd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){be=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}be=null}}else be=Ze?ln(e.stateNode.nextSibling):null;return!0}function Xg(){for(var e=be;e;)e=ln(e.nextSibling)}function Or(){be=Ze=null,Z=!1}function zc(e){mt===null?mt=[e]:mt.push(e)}var O1=Qt.ReactCurrentBatchConfig;function pt(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Fo=wn(null),$o=null,dr=null,jc=null;function Bc(){jc=dr=$o=null}function Vc(e){var t=Fo.current;J(Fo),e._currentValue=t}function Sa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t){$o=e,jc=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(jc!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if($o===null)throw Error(E(308));dr=e,$o.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Dn=null;function Hc(e){Dn===null?Dn=[e]:Dn.push(e)}function bg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function Wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ht(e,n)}return i=r.interleaved,i===null?(t.next=t,Hc(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ht(e,n)}function mo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}function id(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Jt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?s=a:o.next=a,o=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=a:l.next=a,h.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;o=0,h=a=u=null,l=s;do{var f=l.lane,m=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,y=l;switch(f=t,m=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){c=_.call(m,c,f);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,f=typeof _=="function"?_.call(m,c,f):_,f==null)break e;c=ne({},c,f);break e;case 2:Jt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(a=h=m,u=c):h=h.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(u=c),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wn|=o,e.lanes=o,e.memoizedState=c}}function sd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Zg=new bp.Component().refs;function Ta(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sl={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),i=cn(e),s=zt(r,i);s.payload=t,n!=null&&(s.callback=n),t=un(e,s,i),t!==null&&(wt(t,e,i,r),mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),i=cn(e),s=zt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=un(e,s,i),t!==null&&(wt(t,e,i,r),mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=cn(e),i=zt(n,r);i.tag=2,t!=null&&(i.callback=t),t=un(e,i,r),t!==null&&(wt(t,e,r,n),mo(t,e,r))}};function od(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Wi(n,r)||!Wi(i,s):!0}function em(e,t,n){var r=!1,i=_n,s=t.contextType;return typeof s=="object"&&s!==null?s=at(s):(i=Qe(t)?Bn:Fe.current,r=t.contextTypes,s=(r=r!=null)?Dr(e,i):_n),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ld(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sl.enqueueReplaceState(t,t.state,null)}function Ia(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zg,Wc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=at(s):(s=Qe(t)?Bn:Fe.current,i.context=Dr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ta(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Sl.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function li(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===Zg&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ud(e){var t=e._init;return t(e._payload)}function tm(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=hn(p,d),p.index=0,p.sibling=null,p}function s(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,d,g,v){return d===null||d.tag!==6?(d=Ru(g,p.mode,v),d.return=p,d):(d=i(d,g),d.return=p,d)}function u(p,d,g,v){var T=g.type;return T===sr?h(p,d,g.props.children,v,g.key):d!==null&&(d.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bt&&ud(T)===d.type)?(v=i(d,g.props),v.ref=li(p,d,g),v.return=p,v):(v=Co(g.type,g.key,g.props,null,p.mode,v),v.ref=li(p,d,g),v.return=p,v)}function a(p,d,g,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=xu(g,p.mode,v),d.return=p,d):(d=i(d,g.children||[]),d.return=p,d)}function h(p,d,g,v,T){return d===null||d.tag!==7?(d=Un(g,p.mode,v,T),d.return=p,d):(d=i(d,g),d.return=p,d)}function c(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ru(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Vs:return g=Co(d.type,d.key,d.props,null,p.mode,g),g.ref=li(p,null,d),g.return=p,g;case ir:return d=xu(d,p.mode,g),d.return=p,d;case bt:var v=d._init;return c(p,v(d._payload),g)}if(_i(d)||ni(d))return d=Un(d,p.mode,g,null),d.return=p,d;Zs(p,d)}return null}function f(p,d,g,v){var T=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:l(p,d,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vs:return g.key===T?u(p,d,g,v):null;case ir:return g.key===T?a(p,d,g,v):null;case bt:return T=g._init,f(p,d,T(g._payload),v)}if(_i(g)||ni(g))return T!==null?null:h(p,d,g,v,null);Zs(p,g)}return null}function m(p,d,g,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(g)||null,l(d,p,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vs:return p=p.get(v.key===null?g:v.key)||null,u(d,p,v,T);case ir:return p=p.get(v.key===null?g:v.key)||null,a(d,p,v,T);case bt:var k=v._init;return m(p,d,g,k(v._payload),T)}if(_i(v)||ni(v))return p=p.get(g)||null,h(d,p,v,T,null);Zs(d,v)}return null}function _(p,d,g,v){for(var T=null,k=null,N=d,R=d=0,se=null;N!==null&&R<g.length;R++){N.index>R?(se=N,N=null):se=N.sibling;var U=f(p,N,g[R],v);if(U===null){N===null&&(N=se);break}e&&N&&U.alternate===null&&t(p,N),d=s(U,d,R),k===null?T=U:k.sibling=U,k=U,N=se}if(R===g.length)return n(p,N),Z&&Nn(p,R),T;if(N===null){for(;R<g.length;R++)N=c(p,g[R],v),N!==null&&(d=s(N,d,R),k===null?T=N:k.sibling=N,k=N);return Z&&Nn(p,R),T}for(N=r(p,N);R<g.length;R++)se=m(N,p,R,g[R],v),se!==null&&(e&&se.alternate!==null&&N.delete(se.key===null?R:se.key),d=s(se,d,R),k===null?T=se:k.sibling=se,k=se);return e&&N.forEach(function(ft){return t(p,ft)}),Z&&Nn(p,R),T}function y(p,d,g,v){var T=ni(g);if(typeof T!="function")throw Error(E(150));if(g=T.call(g),g==null)throw Error(E(151));for(var k=T=null,N=d,R=d=0,se=null,U=g.next();N!==null&&!U.done;R++,U=g.next()){N.index>R?(se=N,N=null):se=N.sibling;var ft=f(p,N,U.value,v);if(ft===null){N===null&&(N=se);break}e&&N&&ft.alternate===null&&t(p,N),d=s(ft,d,R),k===null?T=ft:k.sibling=ft,k=ft,N=se}if(U.done)return n(p,N),Z&&Nn(p,R),T;if(N===null){for(;!U.done;R++,U=g.next())U=c(p,U.value,v),U!==null&&(d=s(U,d,R),k===null?T=U:k.sibling=U,k=U);return Z&&Nn(p,R),T}for(N=r(p,N);!U.done;R++,U=g.next())U=m(N,p,R,U.value,v),U!==null&&(e&&U.alternate!==null&&N.delete(U.key===null?R:U.key),d=s(U,d,R),k===null?T=U:k.sibling=U,k=U);return e&&N.forEach(function(ei){return t(p,ei)}),Z&&Nn(p,R),T}function A(p,d,g,v){if(typeof g=="object"&&g!==null&&g.type===sr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Vs:e:{for(var T=g.key,k=d;k!==null;){if(k.key===T){if(T=g.type,T===sr){if(k.tag===7){n(p,k.sibling),d=i(k,g.props.children),d.return=p,p=d;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bt&&ud(T)===k.type){n(p,k.sibling),d=i(k,g.props),d.ref=li(p,k,g),d.return=p,p=d;break e}n(p,k);break}else t(p,k);k=k.sibling}g.type===sr?(d=Un(g.props.children,p.mode,v,g.key),d.return=p,p=d):(v=Co(g.type,g.key,g.props,null,p.mode,v),v.ref=li(p,d,g),v.return=p,p=v)}return o(p);case ir:e:{for(k=g.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),d=i(d,g.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=xu(g,p.mode,v),d.return=p,p=d}return o(p);case bt:return k=g._init,A(p,d,k(g._payload),v)}if(_i(g))return _(p,d,g,v);if(ni(g))return y(p,d,g,v);Zs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,g),d.return=p,p=d):(n(p,d),d=Ru(g,p.mode,v),d.return=p,p=d),o(p)):n(p,d)}return A}var Lr=tm(!0),nm=tm(!1),Ss={},At=wn(Ss),Yi=wn(Ss),qi=wn(Ss);function On(e){if(e===Ss)throw Error(E(174));return e}function Gc(e,t){switch(Y(qi,t),Y(Yi,e),Y(At,Ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ra(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ra(t,e)}J(At),Y(At,t)}function Mr(){J(At),J(Yi),J(qi)}function rm(e){On(qi.current);var t=On(At.current),n=ra(t,e.type);t!==n&&(Y(Yi,e),Y(At,n))}function Kc(e){Yi.current===e&&(J(At),J(Yi))}var ee=wn(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cu=[];function Qc(){for(var e=0;e<Cu.length;e++)Cu[e]._workInProgressVersionPrimary=null;Cu.length=0}var _o=Qt.ReactCurrentDispatcher,Su=Qt.ReactCurrentBatchConfig,Hn=0,te=null,ce=null,ge=null,jo=!1,Ni=!1,Xi=0,L1=0;function ke(){throw Error(E(321))}function Yc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function qc(e,t,n,r,i,s){if(Hn=s,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_o.current=e===null||e.memoizedState===null?U1:z1,e=n(r,i),Ni){s=0;do{if(Ni=!1,Xi=0,25<=s)throw Error(E(301));s+=1,ge=ce=null,t.updateQueue=null,_o.current=j1,e=n(r,i)}while(Ni)}if(_o.current=Bo,t=ce!==null&&ce.next!==null,Hn=0,ge=ce=te=null,jo=!1,t)throw Error(E(300));return e}function Xc(){var e=Xi!==0;return Xi=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?te.memoizedState=ge=e:ge=ge.next=e,ge}function ct(){if(ce===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=ge===null?te.memoizedState:ge.next;if(t!==null)ge=t,ce=e;else{if(e===null)throw Error(E(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},ge===null?te.memoizedState=ge=e:ge=ge.next=e}return ge}function bi(e,t){return typeof t=="function"?t(e):t}function Tu(e){var t=ct(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,a=s;do{var h=a.lane;if((Hn&h)===h)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var c={lane:h,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=c,o=r):u=u.next=c,te.lanes|=h,Wn|=h}a=a.next}while(a!==null&&a!==s);u===null?o=r:u.next=l,St(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,te.lanes|=s,Wn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Iu(e){var t=ct(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);St(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function im(){}function sm(e,t){var n=te,r=ct(),i=t(),s=!St(r.memoizedState,i);if(s&&(r.memoizedState=i,He=!0),r=r.queue,bc(um.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Ji(9,lm.bind(null,n,r,i,t),void 0,null),ye===null)throw Error(E(349));Hn&30||om(n,t,i)}return i}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lm(e,t,n,r){t.value=n,t.getSnapshot=r,am(t)&&cm(e)}function um(e,t,n){return n(function(){am(t)&&cm(e)})}function am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function cm(e){var t=Ht(e,1);t!==null&&wt(t,e,1,-1)}function ad(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=$1.bind(null,te,e),[t.memoizedState,e]}function Ji(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hm(){return ct().memoizedState}function yo(e,t,n,r){var i=It();te.flags|=e,i.memoizedState=Ji(1|t,n,void 0,r===void 0?null:r)}function Tl(e,t,n,r){var i=ct();r=r===void 0?null:r;var s=void 0;if(ce!==null){var o=ce.memoizedState;if(s=o.destroy,r!==null&&Yc(r,o.deps)){i.memoizedState=Ji(t,n,s,r);return}}te.flags|=e,i.memoizedState=Ji(1|t,n,s,r)}function cd(e,t){return yo(8390656,8,e,t)}function bc(e,t){return Tl(2048,8,e,t)}function fm(e,t){return Tl(4,2,e,t)}function dm(e,t){return Tl(4,4,e,t)}function pm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gm(e,t,n){return n=n!=null?n.concat([e]):null,Tl(4,4,pm.bind(null,t,e),n)}function Jc(){}function mm(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _m(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ym(e,t,n){return Hn&21?(St(n,t)||(n=wg(),te.lanes|=n,Wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function M1(e,t){var n=W;W=n!==0&&4>n?n:4,e(!0);var r=Su.transition;Su.transition={};try{e(!1),t()}finally{W=n,Su.transition=r}}function vm(){return ct().memoizedState}function F1(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Em(e))wm(t,n);else if(n=bg(e,t,n,r),n!==null){var i=ze();wt(n,e,r,i),Cm(n,t,r)}}function $1(e,t,n){var r=cn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Em(e))wm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,St(l,o)){var u=t.interleaved;u===null?(i.next=i,Hc(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=bg(e,t,i,r),n!==null&&(i=ze(),wt(n,e,r,i),Cm(n,t,r))}}function Em(e){var t=e.alternate;return e===te||t!==null&&t===te}function wm(e,t){Ni=jo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}var Bo={readContext:at,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},U1={readContext:at,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:cd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yo(4194308,4,pm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){return yo(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=F1.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:ad,useDebugValue:Jc,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=ad(!1),t=e[0];return e=M1.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,i=It();if(Z){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ye===null)throw Error(E(349));Hn&30||om(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,cd(um.bind(null,r,s,e),[e]),r.flags|=2048,Ji(9,lm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=It(),t=ye.identifierPrefix;if(Z){var n=Ft,r=Mt;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=L1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z1={readContext:at,useCallback:mm,useContext:at,useEffect:bc,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:_m,useReducer:Tu,useRef:hm,useState:function(){return Tu(bi)},useDebugValue:Jc,useDeferredValue:function(e){var t=ct();return ym(t,ce.memoizedState,e)},useTransition:function(){var e=Tu(bi)[0],t=ct().memoizedState;return[e,t]},useMutableSource:im,useSyncExternalStore:sm,useId:vm,unstable_isNewReconciler:!1},j1={readContext:at,useCallback:mm,useContext:at,useEffect:bc,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:_m,useReducer:Iu,useRef:hm,useState:function(){return Iu(bi)},useDebugValue:Jc,useDeferredValue:function(e){var t=ct();return ce===null?t.memoizedState=e:ym(t,ce.memoizedState,e)},useTransition:function(){var e=Iu(bi)[0],t=ct().memoizedState;return[e,t]},useMutableSource:im,useSyncExternalStore:sm,useId:vm,unstable_isNewReconciler:!1};function Fr(e,t){try{var n="",r=t;do n+=p0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ku(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ka(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var B1=typeof WeakMap=="function"?WeakMap:Map;function Sm(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ho||(Ho=!0,Fa=r),ka(e,t)},n}function Tm(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ka(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ka(e,t),typeof r!="function"&&(an===null?an=new Set([this]):an.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new B1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=tE.bind(null,e,t,n),t.then(e,e))}function fd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,un(n,t,1))),n.lanes|=1),e)}var V1=Qt.ReactCurrentOwner,He=!1;function $e(e,t,n,r){t.child=e===null?nm(t,null,n,r):Lr(t,e.child,n,r)}function pd(e,t,n,r,i){n=n.render;var s=t.ref;return Sr(t,i),r=qc(e,t,n,r,s,i),n=Xc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wt(e,t,i)):(Z&&n&&$c(t),t.flags|=1,$e(e,t,r,i),t.child)}function gd(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!oh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Im(e,t,s,r,i)):(e=Co(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(o,r)&&e.ref===t.ref)return Wt(e,t,i)}return t.flags|=1,e=hn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Im(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Wi(s,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Wt(e,t,i)}return Na(e,t,n,r,i)}function km(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(gr,Xe),Xe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(gr,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Y(gr,Xe),Xe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Y(gr,Xe),Xe|=r;return $e(e,t,i,n),t.child}function Nm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Na(e,t,n,r,i){var s=Qe(n)?Bn:Fe.current;return s=Dr(t,s),Sr(t,i),n=qc(e,t,n,r,s,i),r=Xc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wt(e,t,i)):(Z&&r&&$c(t),t.flags|=1,$e(e,t,n,i),t.child)}function md(e,t,n,r,i){if(Qe(n)){var s=!0;Oo(t)}else s=!1;if(Sr(t,i),t.stateNode===null)vo(e,t),em(t,n,r),Ia(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=at(a):(a=Qe(n)?Bn:Fe.current,a=Dr(t,a));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&ld(t,o,r,a),Jt=!1;var f=t.memoizedState;o.state=f,Uo(t,r,o,i),u=t.memoizedState,l!==r||f!==u||Ke.current||Jt?(typeof h=="function"&&(Ta(t,n,h,r),u=t.memoizedState),(l=Jt||od(t,n,l,r,f,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Jg(e,t),l=t.memoizedProps,a=t.type===t.elementType?l:pt(t.type,l),o.props=a,c=t.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=at(u):(u=Qe(n)?Bn:Fe.current,u=Dr(t,u));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==u)&&ld(t,o,r,u),Jt=!1,f=t.memoizedState,o.state=f,Uo(t,r,o,i);var _=t.memoizedState;l!==c||f!==_||Ke.current||Jt?(typeof m=="function"&&(Ta(t,n,m,r),_=t.memoizedState),(a=Jt||od(t,n,a,r,f,_,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,s,i)}function Ra(e,t,n,r,i,s){Nm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&td(t,n,!1),Wt(e,t,s);r=t.stateNode,V1.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,s),t.child=Lr(t,null,l,s)):$e(e,t,l,s),t.memoizedState=r.state,i&&td(t,n,!0),t.child}function Rm(e){var t=e.stateNode;t.pendingContext?ed(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ed(e,t.context,!1),Gc(e,t.containerInfo)}function _d(e,t,n,r,i){return Or(),zc(i),t.flags|=256,$e(e,t,n,r),t.child}var xa={dehydrated:null,treeContext:null,retryLane:0};function Pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function xm(e,t,n){var r=t.pendingProps,i=ee.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Y(ee,i&1),e===null)return Ca(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nl(o,r,0,null),e=Un(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Pa(n),t.memoizedState=xa,e):Zc(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return H1(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=hn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=hn(l,s):(s=Un(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Pa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=xa,r}return s=e.child,e=s.sibling,r=hn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zc(e,t){return t=Nl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function eo(e,t,n,r){return r!==null&&zc(r),Lr(t,e.child,null,n),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H1(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ku(Error(E(422))),eo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Nl({mode:"visible",children:r.children},i,0,null),s=Un(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=Pa(o),t.memoizedState=xa,s);if(!(t.mode&1))return eo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(E(419)),r=ku(s,r,void 0),eo(e,t,o,r)}if(l=(o&e.childLanes)!==0,He||l){if(r=ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ht(e,i),wt(r,e,i,-1))}return sh(),r=ku(Error(E(421))),eo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=nE.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,be=ln(i.nextSibling),Ze=t,Z=!0,mt=null,e!==null&&(it[st++]=Mt,it[st++]=Ft,it[st++]=Vn,Mt=e.id,Ft=e.overflow,Vn=t),t=Zc(t,r.children),t.flags|=4096,t)}function yd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sa(e.return,t,n)}function Nu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Pm(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if($e(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,n,t);else if(e.tag===19)yd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Nu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Nu(t,!0,n,null,s);break;case"together":Nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function W1(e,t,n){switch(t.tag){case 3:Rm(t),Or();break;case 5:rm(t);break;case 1:Qe(t.type)&&Oo(t);break;case 4:Gc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Y(Fo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?xm(e,t,n):(Y(ee,ee.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);Y(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,km(e,t,n)}return Wt(e,t,n)}var Am,Aa,Dm,Om;Am=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Aa=function(){};Dm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,On(At.current);var s=null;switch(n){case"input":i=Zu(e,i),r=Zu(e,r),s=[];break;case"select":i=ne({},i,{value:void 0}),r=ne({},r,{value:void 0}),s=[];break;case"textarea":i=na(e,i),r=na(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ao)}ia(n,r);var o;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var l=i[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($i.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in r){var u=r[a];if(l=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&($i.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&q("scroll",e),s||l===u||(s=[])):(s=s||[]).push(a,u))}n&&(s=s||[]).push("style",n);var a=s;(t.updateQueue=a)&&(t.flags|=4)}};Om=function(e,t,n,r){n!==r&&(t.flags|=4)};function ui(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function G1(e,t,n){var r=t.pendingProps;switch(Uc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Qe(t.type)&&Do(),Ne(t),null;case 3:return r=t.stateNode,Mr(),J(Ke),J(Fe),Qc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(za(mt),mt=null))),Aa(e,t),Ne(t),null;case 5:Kc(t);var i=On(qi.current);if(n=t.type,e!==null&&t.stateNode!=null)Dm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Ne(t),null}if(e=On(At.current),Js(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[kt]=t,r[Qi]=s,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(i=0;i<vi.length;i++)q(vi[i],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":Nf(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":xf(r,s),q("invalid",r)}ia(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&bs(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&bs(r.textContent,l,e),i=["children",""+l]):$i.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":Hs(r),Rf(r,s,!0);break;case"textarea":Hs(r),Pf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ao)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=og(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kt]=t,e[Qi]=r,Am(e,t,!1,!1),t.stateNode=e;e:{switch(o=sa(n,r),n){case"dialog":q("cancel",e),q("close",e),i=r;break;case"iframe":case"object":case"embed":q("load",e),i=r;break;case"video":case"audio":for(i=0;i<vi.length;i++)q(vi[i],e);i=r;break;case"source":q("error",e),i=r;break;case"img":case"image":case"link":q("error",e),q("load",e),i=r;break;case"details":q("toggle",e),i=r;break;case"input":Nf(e,r),i=Zu(e,r),q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ne({},r,{value:void 0}),q("invalid",e);break;case"textarea":xf(e,r),i=na(e,r),q("invalid",e);break;default:i=r}ia(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?ag(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&lg(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ui(e,u):typeof u=="number"&&Ui(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($i.hasOwnProperty(s)?u!=null&&s==="onScroll"&&q("scroll",e):u!=null&&Sc(e,s,u,o))}switch(n){case"input":Hs(e),Rf(e,r,!1);break;case"textarea":Hs(e),Pf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?vr(e,!!r.multiple,s,!1):r.defaultValue!=null&&vr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ao)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Om(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=On(qi.current),On(At.current),Js(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(s=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:bs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return Ne(t),null;case 13:if(J(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&be!==null&&t.mode&1&&!(t.flags&128))Xg(),Or(),t.flags|=98560,s=!1;else if(s=Js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[kt]=t}else Or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),s=!1}else mt!==null&&(za(mt),mt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?fe===0&&(fe=3):sh())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return Mr(),Aa(e,t),e===null&&Gi(t.stateNode.containerInfo),Ne(t),null;case 10:return Vc(t.type._context),Ne(t),null;case 17:return Qe(t.type)&&Do(),Ne(t),null;case 19:if(J(ee),s=t.memoizedState,s===null)return Ne(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ui(s,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zo(e),o!==null){for(t.flags|=128,ui(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(ee,ee.current&1|2),t.child}e=e.sibling}s.tail!==null&&le()>$r&&(t.flags|=128,r=!0,ui(s,!1),t.lanes=4194304)}else{if(!r)if(e=zo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ui(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Z)return Ne(t),null}else 2*le()-s.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,ui(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=le(),t.sibling=null,n=ee.current,Y(ee,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return ih(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function K1(e,t){switch(Uc(t),t.tag){case 1:return Qe(t.type)&&Do(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mr(),J(Ke),J(Fe),Qc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kc(t),null;case 13:if(J(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ee),null;case 4:return Mr(),null;case 10:return Vc(t.type._context),null;case 22:case 23:return ih(),null;case 24:return null;default:return null}}var to=!1,xe=!1,Q1=typeof WeakSet=="function"?WeakSet:Set,S=null;function pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function Da(e,t,n){try{n()}catch(r){re(e,t,r)}}var vd=!1;function Y1(e,t){if(ga=Ro,e=$g(),Fc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,a=0,h=0,c=e,f=null;t:for(;;){for(var m;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(u=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(m=c.firstChild)!==null;)f=c,c=m;for(;;){if(c===e)break t;if(f===n&&++a===i&&(l=o),f===s&&++h===r&&(u=o),(m=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=m}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ma={focusedElem:e,selectionRange:n},Ro=!1,S=t;S!==null;)if(t=S,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,S=e;else for(;S!==null;){t=S;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,A=_.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:pt(t.type,y),A);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(v){re(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,S=e;break}S=t.return}return _=vd,vd=!1,_}function Ri(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Da(t,n,s)}i=i.next}while(i!==r)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lm(e){var t=e.alternate;t!==null&&(e.alternate=null,Lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Qi],delete t[va],delete t[P1],delete t[A1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mm(e){return e.tag===5||e.tag===3||e.tag===4}function Ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function La(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ao));else if(r!==4&&(e=e.child,e!==null))for(La(e,t,n),e=e.sibling;e!==null;)La(e,t,n),e=e.sibling}function Ma(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ma(e,t,n),e=e.sibling;e!==null;)Ma(e,t,n),e=e.sibling}var we=null,gt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)Fm(e,t,n),n=n.sibling}function Fm(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:xe||pr(n,t);case 6:var r=we,i=gt;we=null,Xt(e,t,n),we=r,gt=i,we!==null&&(gt?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(gt?(e=we,n=n.stateNode,e.nodeType===8?Eu(e.parentNode,n):e.nodeType===1&&Eu(e,n),Vi(e)):Eu(we,n.stateNode));break;case 4:r=we,i=gt,we=n.stateNode.containerInfo,gt=!0,Xt(e,t,n),we=r,gt=i;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Da(n,t,o),i=i.next}while(i!==r)}Xt(e,t,n);break;case 1:if(!xe&&(pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,t,l)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Xt(e,t,n),xe=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function wd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Q1),t.forEach(function(r){var i=rE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,gt=!1;break e;case 3:we=l.stateNode.containerInfo,gt=!0;break e;case 4:we=l.stateNode.containerInfo,gt=!0;break e}l=l.return}if(we===null)throw Error(E(160));Fm(s,o,i),we=null,gt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){re(i,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$m(t,e),t=t.sibling}function $m(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),Tt(e),r&4){try{Ri(3,e,e.return),Il(3,e)}catch(y){re(e,e.return,y)}try{Ri(5,e,e.return)}catch(y){re(e,e.return,y)}}break;case 1:dt(t,e),Tt(e),r&512&&n!==null&&pr(n,n.return);break;case 5:if(dt(t,e),Tt(e),r&512&&n!==null&&pr(n,n.return),e.flags&32){var i=e.stateNode;try{Ui(i,"")}catch(y){re(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ig(i,s),sa(l,o);var a=sa(l,s);for(o=0;o<u.length;o+=2){var h=u[o],c=u[o+1];h==="style"?ag(i,c):h==="dangerouslySetInnerHTML"?lg(i,c):h==="children"?Ui(i,c):Sc(i,h,c,a)}switch(l){case"input":ea(i,s);break;case"textarea":sg(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?vr(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?vr(i,!!s.multiple,s.defaultValue,!0):vr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qi]=s}catch(y){re(e,e.return,y)}}break;case 6:if(dt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(E(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){re(e,e.return,y)}}break;case 3:if(dt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(y){re(e,e.return,y)}break;case 4:dt(t,e),Tt(e);break;case 13:dt(t,e),Tt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nh=le())),r&4&&wd(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(a=xe)||h,dt(t,e),xe=a):dt(t,e),Tt(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!h&&e.mode&1)for(S=e,h=e.child;h!==null;){for(c=S=h;S!==null;){switch(f=S,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ri(4,f,f.return);break;case 1:pr(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(y){re(r,n,y)}}break;case 5:pr(f,f.return);break;case 22:if(f.memoizedState!==null){Sd(c);continue}}m!==null?(m.return=f,S=m):Sd(c)}h=h.sibling}e:for(h=null,c=e;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,a?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=ug("display",o))}catch(y){re(e,e.return,y)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(y){re(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:dt(t,e),Tt(e),r&4&&wd(e);break;case 21:break;default:dt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mm(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ui(i,""),r.flags&=-33);var s=Ed(e);Ma(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ed(e);La(e,l,o);break;default:throw Error(E(161))}}catch(u){re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q1(e,t,n){S=e,Um(e)}function Um(e,t,n){for(var r=(e.mode&1)!==0;S!==null;){var i=S,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||to;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||xe;l=to;var a=xe;if(to=o,(xe=u)&&!a)for(S=i;S!==null;)o=S,u=o.child,o.tag===22&&o.memoizedState!==null?Td(i):u!==null?(u.return=o,S=u):Td(i);for(;s!==null;)S=s,Um(s),s=s.sibling;S=i,to=l,xe=a}Cd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,S=s):Cd(e)}}function Cd(e){for(;S!==null;){var t=S;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var h=a.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&Vi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}xe||t.flags&512&&Oa(t)}catch(f){re(t,t.return,f)}}if(t===e){S=null;break}if(n=t.sibling,n!==null){n.return=t.return,S=n;break}S=t.return}}function Sd(e){for(;S!==null;){var t=S;if(t===e){S=null;break}var n=t.sibling;if(n!==null){n.return=t.return,S=n;break}S=t.return}}function Td(e){for(;S!==null;){var t=S;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(u){re(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){re(t,i,u)}}var s=t.return;try{Oa(t)}catch(u){re(t,s,u)}break;case 5:var o=t.return;try{Oa(t)}catch(u){re(t,o,u)}}}catch(u){re(t,t.return,u)}if(t===e){S=null;break}var l=t.sibling;if(l!==null){l.return=t.return,S=l;break}S=t.return}}var X1=Math.ceil,Vo=Qt.ReactCurrentDispatcher,eh=Qt.ReactCurrentOwner,ut=Qt.ReactCurrentBatchConfig,j=0,ye=null,ae=null,Se=0,Xe=0,gr=wn(0),fe=0,Zi=null,Wn=0,kl=0,th=0,xi=null,Ve=null,nh=0,$r=1/0,Ot=null,Ho=!1,Fa=null,an=null,no=!1,nn=null,Wo=0,Pi=0,$a=null,Eo=-1,wo=0;function ze(){return j&6?le():Eo!==-1?Eo:Eo=le()}function cn(e){return e.mode&1?j&2&&Se!==0?Se&-Se:O1.transition!==null?(wo===0&&(wo=wg()),wo):(e=W,e!==0||(e=window.event,e=e===void 0?16:Rg(e.type)),e):1}function wt(e,t,n,r){if(50<Pi)throw Pi=0,$a=null,Error(E(185));Es(e,n,r),(!(j&2)||e!==ye)&&(e===ye&&(!(j&2)&&(kl|=n),fe===4&&en(e,Se)),Ye(e,r),n===1&&j===0&&!(t.mode&1)&&($r=le()+500,Cl&&Cn()))}function Ye(e,t){var n=e.callbackNode;O0(e,t);var r=No(e,e===ye?Se:0);if(r===0)n!==null&&Of(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Of(n),t===1)e.tag===0?D1(Id.bind(null,e)):Qg(Id.bind(null,e)),R1(function(){!(j&6)&&Cn()}),n=null;else{switch(Cg(r)){case 1:n=Rc;break;case 4:n=vg;break;case 16:n=ko;break;case 536870912:n=Eg;break;default:n=ko}n=Km(n,zm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zm(e,t){if(Eo=-1,wo=0,j&6)throw Error(E(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=No(e,e===ye?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Go(e,r);else{t=r;var i=j;j|=2;var s=Bm();(ye!==e||Se!==t)&&(Ot=null,$r=le()+500,$n(e,t));do try{Z1();break}catch(l){jm(e,l)}while(1);Bc(),Vo.current=s,j=i,ae!==null?t=0:(ye=null,Se=0,t=fe)}if(t!==0){if(t===2&&(i=ca(e),i!==0&&(r=i,t=Ua(e,i))),t===1)throw n=Zi,$n(e,0),en(e,r),Ye(e,le()),n;if(t===6)en(e,r);else{if(i=e.current.alternate,!(r&30)&&!b1(i)&&(t=Go(e,r),t===2&&(s=ca(e),s!==0&&(r=s,t=Ua(e,s))),t===1))throw n=Zi,$n(e,0),en(e,r),Ye(e,le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Rn(e,Ve,Ot);break;case 3:if(en(e,r),(r&130023424)===r&&(t=nh+500-le(),10<t)){if(No(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ya(Rn.bind(null,e,Ve,Ot),t);break}Rn(e,Ve,Ot);break;case 4:if(en(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Et(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X1(r/1960))-r,10<r){e.timeoutHandle=ya(Rn.bind(null,e,Ve,Ot),r);break}Rn(e,Ve,Ot);break;case 5:Rn(e,Ve,Ot);break;default:throw Error(E(329))}}}return Ye(e,le()),e.callbackNode===n?zm.bind(null,e):null}function Ua(e,t){var n=xi;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=Go(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&za(t)),e}function za(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function b1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!St(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t){for(t&=~th,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),r=1<<n;e[n]=-1,t&=~r}}function Id(e){if(j&6)throw Error(E(327));Tr();var t=No(e,0);if(!(t&1))return Ye(e,le()),null;var n=Go(e,t);if(e.tag!==0&&n===2){var r=ca(e);r!==0&&(t=r,n=Ua(e,r))}if(n===1)throw n=Zi,$n(e,0),en(e,t),Ye(e,le()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,Ve,Ot),Ye(e,le()),null}function rh(e,t){var n=j;j|=1;try{return e(t)}finally{j=n,j===0&&($r=le()+500,Cl&&Cn())}}function Gn(e){nn!==null&&nn.tag===0&&!(j&6)&&Tr();var t=j;j|=1;var n=ut.transition,r=W;try{if(ut.transition=null,W=1,e)return e()}finally{W=r,ut.transition=n,j=t,!(j&6)&&Cn()}}function ih(){Xe=gr.current,J(gr)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,N1(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(Uc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Do();break;case 3:Mr(),J(Ke),J(Fe),Qc();break;case 5:Kc(r);break;case 4:Mr();break;case 13:J(ee);break;case 19:J(ee);break;case 10:Vc(r.type._context);break;case 22:case 23:ih()}n=n.return}if(ye=e,ae=e=hn(e.current,null),Se=Xe=t,fe=0,Zi=null,th=kl=Wn=0,Ve=xi=null,Dn!==null){for(t=0;t<Dn.length;t++)if(n=Dn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dn=null}return e}function jm(e,t){do{var n=ae;try{if(Bc(),_o.current=Bo,jo){for(var r=te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jo=!1}if(Hn=0,ge=ce=te=null,Ni=!1,Xi=0,eh.current=null,n===null||n.return===null){fe=1,Zi=t,ae=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Se,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=fd(o);if(m!==null){m.flags&=-257,dd(m,o,l,s,t),m.mode&1&&hd(s,a,t),t=m,u=a;var _=t.updateQueue;if(_===null){var y=new Set;y.add(u),t.updateQueue=y}else _.add(u);break e}else{if(!(t&1)){hd(s,a,t),sh();break e}u=Error(E(426))}}else if(Z&&l.mode&1){var A=fd(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),dd(A,o,l,s,t),zc(Fr(u,l));break e}}s=u=Fr(u,l),fe!==4&&(fe=2),xi===null?xi=[s]:xi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Sm(s,u,t);id(s,p);break e;case 1:l=u;var d=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(an===null||!an.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=Tm(s,l,t);id(s,v);break e}}s=s.return}while(s!==null)}Hm(n)}catch(T){t=T,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(1)}function Bm(){var e=Vo.current;return Vo.current=Bo,e===null?Bo:e}function sh(){(fe===0||fe===3||fe===2)&&(fe=4),ye===null||!(Wn&268435455)&&!(kl&268435455)||en(ye,Se)}function Go(e,t){var n=j;j|=2;var r=Bm();(ye!==e||Se!==t)&&(Ot=null,$n(e,t));do try{J1();break}catch(i){jm(e,i)}while(1);if(Bc(),j=n,Vo.current=r,ae!==null)throw Error(E(261));return ye=null,Se=0,fe}function J1(){for(;ae!==null;)Vm(ae)}function Z1(){for(;ae!==null&&!T0();)Vm(ae)}function Vm(e){var t=Gm(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Hm(e):ae=t,eh.current=null}function Hm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=K1(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ae=null;return}}else if(n=G1(n,t,Xe),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);fe===0&&(fe=5)}function Rn(e,t,n){var r=W,i=ut.transition;try{ut.transition=null,W=1,eE(e,t,n,r)}finally{ut.transition=i,W=r}return null}function eE(e,t,n,r){do Tr();while(nn!==null);if(j&6)throw Error(E(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(L0(e,s),e===ye&&(ae=ye=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||no||(no=!0,Km(ko,function(){return Tr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ut.transition,ut.transition=null;var o=W;W=1;var l=j;j|=4,eh.current=null,Y1(e,n),$m(n,e),E1(ma),Ro=!!ga,ma=ga=null,e.current=n,q1(n),I0(),j=l,W=o,ut.transition=s}else e.current=n;if(no&&(no=!1,nn=e,Wo=i),s=e.pendingLanes,s===0&&(an=null),R0(n.stateNode),Ye(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ho)throw Ho=!1,e=Fa,Fa=null,e;return Wo&1&&e.tag!==0&&Tr(),s=e.pendingLanes,s&1?e===$a?Pi++:(Pi=0,$a=e):Pi=0,Cn(),null}function Tr(){if(nn!==null){var e=Cg(Wo),t=ut.transition,n=W;try{if(ut.transition=null,W=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,Wo=0,j&6)throw Error(E(331));var i=j;for(j|=4,S=e.current;S!==null;){var s=S,o=s.child;if(S.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(S=a;S!==null;){var h=S;switch(h.tag){case 0:case 11:case 15:Ri(8,h,s)}var c=h.child;if(c!==null)c.return=h,S=c;else for(;S!==null;){h=S;var f=h.sibling,m=h.return;if(Lm(h),h===a){S=null;break}if(f!==null){f.return=m,S=f;break}S=m}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(y!==null)}}S=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,S=o;else e:for(;S!==null;){if(s=S,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ri(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,S=p;break e}S=s.return}}var d=e.current;for(S=d;S!==null;){o=S;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,S=g;else e:for(o=d;S!==null;){if(l=S,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Il(9,l)}}catch(T){re(l,l.return,T)}if(l===o){S=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,S=v;break e}S=l.return}}if(j=i,Cn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(_l,e)}catch{}r=!0}return r}finally{W=n,ut.transition=t}}return!1}function kd(e,t,n){t=Fr(n,t),t=Sm(e,t,1),e=un(e,t,1),t=ze(),e!==null&&(Es(e,1,t),Ye(e,t))}function re(e,t,n){if(e.tag===3)kd(e,e,n);else for(;t!==null;){if(t.tag===3){kd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(an===null||!an.has(r))){e=Fr(n,e),e=Tm(t,e,1),t=un(t,e,1),e=ze(),t!==null&&(Es(t,1,e),Ye(t,e));break}}t=t.return}}function tE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(Se&n)===n&&(fe===4||fe===3&&(Se&130023424)===Se&&500>le()-nh?$n(e,0):th|=n),Ye(e,t)}function Wm(e,t){t===0&&(e.mode&1?(t=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):t=1);var n=ze();e=Ht(e,t),e!==null&&(Es(e,t,n),Ye(e,n))}function nE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wm(e,n)}function rE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Wm(e,n)}var Gm;Gm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,W1(e,t,n);He=!!(e.flags&131072)}else He=!1,Z&&t.flags&1048576&&Yg(t,Mo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vo(e,t),e=t.pendingProps;var i=Dr(t,Fe.current);Sr(t,n),i=qc(null,t,r,e,i,n);var s=Xc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(s=!0,Oo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wc(t),i.updater=Sl,t.stateNode=i,i._reactInternals=t,Ia(t,r,e,n),t=Ra(null,t,r,!0,s,n)):(t.tag=0,Z&&s&&$c(t),$e(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sE(r),e=pt(r,e),i){case 0:t=Na(null,t,r,e,n);break e;case 1:t=md(null,t,r,e,n);break e;case 11:t=pd(null,t,r,e,n);break e;case 14:t=gd(null,t,r,pt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pt(r,i),Na(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pt(r,i),md(e,t,r,i,n);case 3:e:{if(Rm(t),e===null)throw Error(E(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Jg(e,t),Uo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Fr(Error(E(423)),t),t=_d(e,t,r,n,i);break e}else if(r!==i){i=Fr(Error(E(424)),t),t=_d(e,t,r,n,i);break e}else for(be=ln(t.stateNode.containerInfo.firstChild),Ze=t,Z=!0,mt=null,n=nm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),r===i){t=Wt(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return rm(t),e===null&&Ca(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,_a(r,i)?o=null:s!==null&&_a(r,s)&&(t.flags|=32),Nm(e,t),$e(e,t,o,n),t.child;case 6:return e===null&&Ca(t),null;case 13:return xm(e,t,n);case 4:return Gc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pt(r,i),pd(e,t,r,i,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Y(Fo,r._currentValue),r._currentValue=o,s!==null)if(St(s.value,o)){if(s.children===i.children&&!Ke.current){t=Wt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=zt(-1,n&-n),u.tag=2;var a=s.updateQueue;if(a!==null){a=a.shared;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Sa(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sa(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$e(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sr(t,n),i=at(i),r=r(i),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,i=pt(r,t.pendingProps),i=pt(r.type,i),gd(e,t,r,i,n);case 15:return Im(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pt(r,i),vo(e,t),t.tag=1,Qe(r)?(e=!0,Oo(t)):e=!1,Sr(t,n),em(t,r,i),Ia(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return Pm(e,t,n);case 22:return km(e,t,n)}throw Error(E(156,t.tag))};function Km(e,t){return yg(e,t)}function iE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new iE(e,t,n,r)}function oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sE(e){if(typeof e=="function")return oh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ic)return 11;if(e===kc)return 14}return 2}function hn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Co(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")oh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case sr:return Un(n.children,i,s,t);case Tc:o=8,i|=8;break;case qu:return e=lt(12,n,t,i|2),e.elementType=qu,e.lanes=s,e;case Xu:return e=lt(13,n,t,i),e.elementType=Xu,e.lanes=s,e;case bu:return e=lt(19,n,t,i),e.elementType=bu,e.lanes=s,e;case tg:return Nl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zp:o=10;break e;case eg:o=9;break e;case Ic:o=11;break e;case kc:o=14;break e;case bt:o=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=lt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Un(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function Nl(e,t,n,r){return e=lt(22,e,r,t),e.elementType=tg,e.lanes=n,e.stateNode={isHidden:!1},e}function Ru(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function xu(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oE(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=au(0),this.expirationTimes=au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lh(e,t,n,r,i,s,o,l,u){return e=new oE(e,t,n,l,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=lt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(s),e}function lE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qm(e){if(!e)return _n;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Qe(n))return Kg(e,n,t)}return t}function Ym(e,t,n,r,i,s,o,l,u){return e=lh(n,r,!0,e,i,s,o,l,u),e.context=Qm(null),n=e.current,r=ze(),i=cn(n),s=zt(r,i),s.callback=t??null,un(n,s,i),e.current.lanes=i,Es(e,i,r),Ye(e,r),e}function Rl(e,t,n,r){var i=t.current,s=ze(),o=cn(i);return n=Qm(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=un(i,t,o),e!==null&&(wt(e,i,o,s),mo(e,i,o)),o}function Ko(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uh(e,t){Nd(e,t),(e=e.alternate)&&Nd(e,t)}function uE(){return null}var qm=typeof reportError=="function"?reportError:function(e){console.error(e)};function ah(e){this._internalRoot=e}xl.prototype.render=ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Rl(e,t,null,null)};xl.prototype.unmount=ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gn(function(){Rl(null,e,null,null)}),t[Vt]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ig();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&Ng(e)}};function ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rd(){}function aE(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var a=Ko(o);s.call(a)}}var o=Ym(t,r,e,0,null,!1,!1,"",Rd);return e._reactRootContainer=o,e[Vt]=o.current,Gi(e.nodeType===8?e.parentNode:e),Gn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var a=Ko(u);l.call(a)}}var u=lh(e,0,!1,null,null,!1,!1,"",Rd);return e._reactRootContainer=u,e[Vt]=u.current,Gi(e.nodeType===8?e.parentNode:e),Gn(function(){Rl(t,u,n,r)}),u}function Al(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Ko(o);l.call(u)}}Rl(t,o,e,i)}else o=aE(n,t,e,i,r);return Ko(o)}Sg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yi(t.pendingLanes);n!==0&&(xc(t,n|1),Ye(t,le()),!(j&6)&&($r=le()+500,Cn()))}break;case 13:Gn(function(){var r=Ht(e,1);if(r!==null){var i=ze();wt(r,e,1,i)}}),uh(e,1)}};Pc=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=ze();wt(t,e,134217728,n)}uh(e,134217728)}};Tg=function(e){if(e.tag===13){var t=cn(e),n=Ht(e,t);if(n!==null){var r=ze();wt(n,e,t,r)}uh(e,t)}};Ig=function(){return W};kg=function(e,t){var n=W;try{return W=e,t()}finally{W=n}};la=function(e,t,n){switch(t){case"input":if(ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wl(r);if(!i)throw Error(E(90));rg(r),ea(r,i)}}}break;case"textarea":sg(e,n);break;case"select":t=n.value,t!=null&&vr(e,!!n.multiple,t,!1)}};fg=rh;dg=Gn;var cE={usingClientEntryPoint:!1,Events:[Cs,ar,wl,cg,hg,rh]},ai={findFiberByHostInstance:An,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hE={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mg(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||uE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{_l=ro.inject(hE),Pt=ro}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cE;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ch(t))throw Error(E(200));return lE(e,t,null,n)};nt.createRoot=function(e,t){if(!ch(e))throw Error(E(299));var n=!1,r="",i=qm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=lh(e,1,!1,null,null,n,!1,r,i),e[Vt]=t.current,Gi(e.nodeType===8?e.parentNode:e),new ah(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=mg(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Gn(e)};nt.hydrate=function(e,t,n){if(!Pl(t))throw Error(E(200));return Al(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!ch(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ym(t,null,e,1,n??null,i,!1,s,o),e[Vt]=t.current,Gi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xl(t)};nt.render=function(e,t,n){if(!Pl(t))throw Error(E(200));return Al(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Pl(e))throw Error(E(40));return e._reactRootContainer?(Gn(function(){Al(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};nt.unstable_batchedUpdates=rh;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pl(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Al(e,t,n,!1,r)};nt.version="18.2.0-next-9e3b772b8-20220608";function Xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xm)}catch(e){console.error(e)}}Xm(),Yp.exports=nt;var fE=Yp.exports,xd=fE;Qu.createRoot=xd.createRoot,Qu.hydrateRoot=xd.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w=function(e,t){if(!e)throw Qr(t)},Qr=function(e){return new Error("Firebase Database ("+bm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},dE=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,u=i+2<e.length,a=u?e[i+2]:0,h=s>>2,c=(s&3)<<4|l>>4;let f=(l&15)<<2|a>>6,m=a&63;u||(m=64,o||(f=64)),r.push(n[h],n[c],n[f],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jm(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||a==null||c==null)throw new pE;const f=s<<2|l>>4;if(r.push(f),a!==64){const m=l<<4&240|a>>2;if(r.push(m),c!==64){const _=a<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zm=function(e){const t=Jm(e);return hh.encodeByteArray(t,!0)},Qo=function(e){return Zm(e).replace(/\./g,"")},ja=function(e){try{return hh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e){return e_(void 0,e)}function e_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!mE(n)||(e[n]=e_(e[n],t[n]));return e}function mE(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=()=>_E().__FIREBASE_DEFAULTS__,vE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},EE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ja(e[1]);return t&&JSON.parse(t)},t_=()=>{try{return yE()||vE()||EE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wE=e=>{var t,n;return(n=(t=t_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},n_=e=>{const t=wE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},r_=()=>{var e;return(e=t_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Qo(JSON.stringify(n)),Qo(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(CE())}function SE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o_(){return bm.NODE_ADMIN===!0}function TE(){try{return typeof indexedDB=="object"}catch{return!1}}function IE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FirebaseError";class Yr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=kE,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l_.prototype.create)}}class l_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?NE(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,l,r)}}function NE(e,t){return e.replace(RE,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const RE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){return JSON.parse(e)}function _e(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=es(ja(s[0])||""),n=es(ja(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},xE=function(e){const t=u_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PE=function(e){const t=u_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ur(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Pd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Yo(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ba(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Ad(s)&&Ad(o)){if(!Ba(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ad(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)r[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],a,h;for(let c=0;c<80;c++){c<40?c<20?(a=l^s&(o^l),h=1518500249):(a=s^o^l,h=1859775393):c<60?(a=s&o|l&(s|o),h=2400959708):(a=s^o^l,h=3395469782);const f=(i<<5|i>>>27)+a+u+h+r[c]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function a_(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,w(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Dl=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(e){return e&&e._delegate?e._delegate:e}class zr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new fh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FE(t))try{this.getOrInitializeService({instanceIdentifier:xn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=xn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xn){return this.instances.has(t)}getOptions(t=xn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ME(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xn){return this.component?this.component.multipleInstances?t:xn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ME(e){return e===xn?void 0:e}function FE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new LE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(H||(H={}));const UE={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},zE=H.INFO,jE={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},BE=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=jE[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dh{constructor(t){this.name=t,this._logLevel=zE,this._logHandler=BE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in H))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...t),this._logHandler(this,H.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...t),this._logHandler(this,H.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,H.INFO,...t),this._logHandler(this,H.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,H.WARN,...t),this._logHandler(this,H.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...t),this._logHandler(this,H.ERROR,...t)}}const VE=(e,t)=>t.some(n=>e instanceof n);let Dd,Od;function HE(){return Dd||(Dd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WE(){return Od||(Od=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,Va=new WeakMap,h_=new WeakMap,Pu=new WeakMap,ph=new WeakMap;function GE(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(fn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&c_.set(n,e)}).catch(()=>{}),ph.set(t,e),t}function KE(e){if(Va.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Va.set(e,t)}let Ha={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Va.get(e);if(t==="objectStoreNames")return e.objectStoreNames||h_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function QE(e){Ha=e(Ha)}function YE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Au(this),t,...n);return h_.set(r,t.sort?t.sort():[t]),fn(r)}:WE().includes(e)?function(...t){return e.apply(Au(this),t),fn(c_.get(this))}:function(...t){return fn(e.apply(Au(this),t))}}function qE(e){return typeof e=="function"?YE(e):(e instanceof IDBTransaction&&KE(e),VE(e,HE())?new Proxy(e,Ha):e)}function fn(e){if(e instanceof IDBRequest)return GE(e);if(Pu.has(e))return Pu.get(e);const t=qE(e);return t!==e&&(Pu.set(e,t),ph.set(t,e)),t}const Au=e=>ph.get(e);function XE(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=fn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fn(o.result),u.oldVersion,u.newVersion,fn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",a=>i(a.oldVersion,a.newVersion,a))}).catch(()=>{}),l}const bE=["get","getKey","getAll","getAllKeys","count"],JE=["put","add","delete","clear"],Du=new Map;function Ld(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Du.get(t))return Du.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=JE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bE.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let a=u.store;return r&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),i&&u.done]))[0]};return Du.set(t,s),s}QE(e=>({...e,get:(t,n,r)=>Ld(t,n)||e.get(t,n,r),has:(t,n)=>!!Ld(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ew(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ew(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wa="@firebase/app",Md="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new dh("@firebase/app"),tw="@firebase/app-compat",nw="@firebase/analytics-compat",rw="@firebase/analytics",iw="@firebase/app-check-compat",sw="@firebase/app-check",ow="@firebase/auth",lw="@firebase/auth-compat",uw="@firebase/database",aw="@firebase/database-compat",cw="@firebase/functions",hw="@firebase/functions-compat",fw="@firebase/installations",dw="@firebase/installations-compat",pw="@firebase/messaging",gw="@firebase/messaging-compat",mw="@firebase/performance",_w="@firebase/performance-compat",yw="@firebase/remote-config",vw="@firebase/remote-config-compat",Ew="@firebase/storage",ww="@firebase/storage-compat",Cw="@firebase/firestore",Sw="@firebase/firestore-compat",Tw="firebase",Iw="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]",kw={[Wa]:"fire-core",[tw]:"fire-core-compat",[rw]:"fire-analytics",[nw]:"fire-analytics-compat",[sw]:"fire-app-check",[iw]:"fire-app-check-compat",[ow]:"fire-auth",[lw]:"fire-auth-compat",[uw]:"fire-rtdb",[aw]:"fire-rtdb-compat",[cw]:"fire-fn",[hw]:"fire-fn-compat",[fw]:"fire-iid",[dw]:"fire-iid-compat",[pw]:"fire-fcm",[gw]:"fire-fcm-compat",[mw]:"fire-perf",[_w]:"fire-perf-compat",[yw]:"fire-rc",[vw]:"fire-rc-compat",[Ew]:"fire-gcs",[ww]:"fire-gcs-compat",[Cw]:"fire-fst",[Sw]:"fire-fst-compat","fire-js":"fire-js",[Tw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,Ka=new Map;function Nw(e,t){try{e.container.addComponent(t)}catch(n){Kn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ts(e){const t=e.name;if(Ka.has(t))return Kn.debug(`There were multiple attempts to register component ${t}.`),!1;Ka.set(t,e);for(const n of qo.values())Nw(n,e);return!0}function f_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},dn=new l_("app","Firebase",Rw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=Iw;function p_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ga,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw dn.create("bad-app-name",{appName:String(i)});if(n||(n=r_()),!n)throw dn.create("no-options");const s=qo.get(i);if(s){if(Ba(n,s.options)&&Ba(r,s.config))return s;throw dn.create("duplicate-app",{appName:i})}const o=new $E(i);for(const u of Ka.values())o.addComponent(u);const l=new xw(n,r,o);return qo.set(i,l),l}function g_(e=Ga){const t=qo.get(e);if(!t&&e===Ga&&r_())return p_();if(!t)throw dn.create("no-app",{appName:e});return t}function pn(e,t,n){var r;let i=(r=kw[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kn.warn(l.join(" "));return}ts(new zr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firebase-heartbeat-database",Aw=1,ns="firebase-heartbeat-store";let Ou=null;function m_(){return Ou||(Ou=XE(Pw,Aw,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ns)}}}).catch(e=>{throw dn.create("idb-open",{originalErrorMessage:e.message})})),Ou}async function Dw(e){try{return await(await m_()).transaction(ns).objectStore(ns).get(__(e))}catch(t){if(t instanceof Yr)Kn.warn(t.message);else{const n=dn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Kn.warn(n.message)}}}async function Fd(e,t){try{const r=(await m_()).transaction(ns,"readwrite");await r.objectStore(ns).put(t,__(e)),await r.done}catch(n){if(n instanceof Yr)Kn.warn(n.message);else{const r=dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(r.message)}}}function __(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=1024,Lw=30*24*60*60*1e3;class Mw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $w(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$d();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Lw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$d(),{heartbeatsToSend:n,unsentEntries:r}=Fw(this._heartbeatsCache.heartbeats),i=Qo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $d(){return new Date().toISOString().substring(0,10)}function Fw(e,t=Ow){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ud(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ud(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $w{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TE()?IE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Dw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ud(e){return Qo(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(e){ts(new zr("platform-logger",t=>new ZE(t),"PRIVATE")),ts(new zr("heartbeat",t=>new Mw(t),"PRIVATE")),pn(Wa,Md,e),pn(Wa,Md,"esm2017"),pn("fire-js","")}Uw("");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C,gh=gh||{},P=zw||self;function Ll(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ts(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function jw(e){return Object.prototype.hasOwnProperty.call(e,Lu)&&e[Lu]||(e[Lu]=++Bw)}var Lu="closure_uid_"+(1e9*Math.random()>>>0),Bw=0;function Vw(e,t,n){return e.call.apply(e.bind,arguments)}function Hw(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Le(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Le=Vw:Le=Hw,Le.apply(null,arguments)}function io(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ee(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function Sn(){this.s=this.s,this.o=this.o}var Ww=0;Sn.prototype.s=!1;Sn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Ww!=0)&&jw(this)};Sn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const y_=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function mh(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function zd(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ll(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Me(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var Gw=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{P.addEventListener("test",()=>{},t),P.removeEventListener("test",()=>{},t)}catch{}return e}();function rs(e){return/^[\s\xa0]*$/.test(e)}function Ml(){var e=P.navigator;return e&&(e=e.userAgent)?e:""}function Nt(e){return Ml().indexOf(e)!=-1}function _h(e){return _h[" "](e),e}_h[" "]=function(){};function Kw(e,t){var n=zC;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Qw=Nt("Opera"),is=Nt("Trident")||Nt("MSIE"),v_=Nt("Edge"),Qa=v_||is,E_=Nt("Gecko")&&!(Ml().toLowerCase().indexOf("webkit")!=-1&&!Nt("Edge"))&&!(Nt("Trident")||Nt("MSIE"))&&!Nt("Edge"),Yw=Ml().toLowerCase().indexOf("webkit")!=-1&&!Nt("Edge");function w_(){var e=P.document;return e?e.documentMode:void 0}e:{var jd="",Mu=function(){var e=Ml();if(E_)return/rv:([^\);]+)(\)|;)/.exec(e);if(v_)return/Edge\/([\d\.]+)/.exec(e);if(is)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Yw)return/WebKit\/(\S+)/.exec(e);if(Qw)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Mu&&(jd=Mu?Mu[1]:""),is){var Bd=w_();if(Bd!=null&&Bd>parseFloat(jd))break e}}P.document&&is&&w_();function ss(e,t){if(Me.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(E_){e:{try{_h(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:qw[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ss.$.h.call(this)}}Ee(ss,Me);var qw={2:"touch",3:"pen",4:"mouse"};ss.prototype.h=function(){ss.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Is="closure_listenable_"+(1e6*Math.random()|0),Xw=0;function bw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Xw,this.fa=this.ia=!1}function Fl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function yh(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Jw(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function C_(e){const t={};for(const n in e)t[n]=e[n];return t}const Vd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S_(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Vd.length;s++)n=Vd[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $l(e){this.src=e,this.g={},this.h=0}$l.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=qa(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new bw(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Ya(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=y_(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Fl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function qa(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var vh="closure_lm_"+(1e6*Math.random()|0),Fu={};function T_(e,t,n,r,i){if(r&&r.once)return k_(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)T_(e,t[s],n,r,i);return null}return n=Ch(n),e&&e[Is]?e.O(t,n,Ts(r)?!!r.capture:!!r,i):I_(e,t,n,!1,r,i)}function I_(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ts(i)?!!i.capture:!!i,l=wh(e);if(l||(e[vh]=l=new $l(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=Zw(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gw||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(R_(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Zw(){function e(n){return t.call(e.src,e.listener,n)}const t=eC;return e}function k_(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)k_(e,t[s],n,r,i);return null}return n=Ch(n),e&&e[Is]?e.P(t,n,Ts(r)?!!r.capture:!!r,i):I_(e,t,n,!0,r,i)}function N_(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)N_(e,t[s],n,r,i);else r=Ts(r)?!!r.capture:!!r,n=Ch(n),e&&e[Is]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=qa(s,n,r,i),-1<n&&(Fl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=wh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qa(t,n,r,i)),(n=-1<e?t[e]:null)&&Eh(n))}function Eh(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Is])Ya(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(R_(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wh(t))?(Ya(n,e),n.h==0&&(n.src=null,t[vh]=null)):Fl(e)}}}function R_(e){return e in Fu?Fu[e]:Fu[e]="on"+e}function eC(e,t){if(e.fa)e=!0;else{t=new ss(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Eh(e),e=n.call(r,t)}return e}function wh(e){return e=e[vh],e instanceof $l?e:null}var $u="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ch(e){return typeof e=="function"?e:(e[$u]||(e[$u]=function(t){return e.handleEvent(t)}),e[$u])}function ve(){Sn.call(this),this.i=new $l(this),this.S=this,this.J=null}Ee(ve,Sn);ve.prototype[Is]=!0;ve.prototype.removeEventListener=function(e,t,n,r){N_(this,e,t,n,r)};function Te(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Me(t,e);else if(t instanceof Me)t.target=t.target||e;else{var i=t;t=new Me(r,e),S_(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=so(o,r,!0,t)&&i}if(o=t.g=e,i=so(o,r,!0,t)&&i,i=so(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=so(o,r,!1,t)&&i}ve.prototype.N=function(){if(ve.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Fl(n[r]);delete e.g[t],e.h--}}this.J=null};ve.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};ve.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function so(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,u=o.la||o.src;o.ia&&Ya(e.i,o),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Sh=P.JSON.stringify;class tC{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function nC(){var e=Th;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rC{constructor(){this.h=this.g=null}add(t,n){const r=x_.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var x_=new tC(()=>new iC,e=>e.reset());class iC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function oC(e){P.setTimeout(()=>{throw e},0)}let os,ls=!1,Th=new rC,P_=()=>{const e=P.Promise.resolve(void 0);os=()=>{e.then(lC)}};var lC=()=>{for(var e;e=nC();){try{e.h.call(e.g)}catch(n){oC(n)}var t=x_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ls=!1};function Ul(e,t){ve.call(this),this.h=e||1,this.g=t||P,this.j=Le(this.qb,this),this.l=Date.now()}Ee(Ul,ve);C=Ul.prototype;C.ga=!1;C.T=null;C.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Te(this,"tick"),this.ga&&(Ih(this),this.start()))}};C.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ih(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}C.N=function(){Ul.$.N.call(this),Ih(this),delete this.g};function kh(e,t,n){if(typeof e=="function")n&&(e=Le(e,n));else if(e&&typeof e.handleEvent=="function")e=Le(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:P.setTimeout(e,t||0)}function A_(e){e.g=kh(()=>{e.g=null,e.i&&(e.i=!1,A_(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class uC extends Sn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:A_(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(e){Sn.call(this),this.h=e,this.g={}}Ee(us,Sn);var Hd=[];function D_(e,t,n,r){Array.isArray(n)||(n&&(Hd[0]=n.toString()),n=Hd);for(var i=0;i<n.length;i++){var s=T_(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function O_(e){yh(e.g,function(t,n){this.g.hasOwnProperty(n)&&Eh(t)},e),e.g={}}us.prototype.N=function(){us.$.N.call(this),O_(this)};us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zl(){this.g=!0}zl.prototype.Ea=function(){this.g=!1};function aC(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),u=0;u<l.length;u++){var a=l[u].split("=");if(1<a.length){var h=a[0];a=a[1];var c=h.split("_");o=2<=c.length&&c[1]=="type"?o+(h+"="+a+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function cC(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function mr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+fC(e,n)+(r?" "+r:"")})}function hC(e,t){e.info(function(){return"TIMEOUT: "+t})}zl.prototype.info=function(){};function fC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Sh(n)}catch{return t}}var qr={},Wd=null;function Nh(){return Wd=Wd||new ve}qr.Ta="serverreachability";function L_(e){Me.call(this,qr.Ta,e)}Ee(L_,Me);function as(e){const t=Nh();Te(t,new L_(t))}qr.STAT_EVENT="statevent";function M_(e,t){Me.call(this,qr.STAT_EVENT,e),this.stat=t}Ee(M_,Me);function Ue(e){const t=Nh();Te(t,new M_(t,e))}qr.Ua="timingevent";function F_(e,t){Me.call(this,qr.Ua,e),this.size=t}Ee(F_,Me);function ks(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){e()},t)}var Rh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xh(){}xh.prototype.h=null;function Gd(e){return e.h||(e.h=e.i())}function pC(){}var Ns={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ph(){Me.call(this,"d")}Ee(Ph,Me);function Ah(){Me.call(this,"c")}Ee(Ah,Me);var Xa;function jl(){}Ee(jl,xh);jl.prototype.g=function(){return new XMLHttpRequest};jl.prototype.i=function(){return{}};Xa=new jl;function Rs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new us(this),this.P=gC,e=Qa?125:void 0,this.V=new Ul(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $_}function $_(){this.i=null,this.g="",this.h=!1}var gC=45e3,ba={},Xo={};C=Rs.prototype;C.setTimeout=function(e){this.P=e};function Ja(e,t,n){e.L=1,e.v=Vl(Gt(t)),e.s=n,e.S=!0,U_(e,null)}function U_(e,t){e.G=Date.now(),xs(e),e.A=Gt(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),K_(n.i,"t",r),e.C=0,n=e.l.J,e.h=new $_,e.g=dy(e.l,n?t:null,!e.s),0<e.O&&(e.M=new uC(Le(e.Pa,e,e.g),e.O)),D_(e.U,e.g,"readystatechange",e.nb),t=e.I?C_(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),as(),aC(e.j,e.u,e.A,e.m,e.W,e.s)}C.nb=function(e){e=e.target;const t=this.M;t&&Rt(e)==3?t.l():this.Pa(e)};C.Pa=function(e){try{if(e==this.g)e:{const h=Rt(this.g);var t=this.g.Ia();const c=this.g.da();if(!(3>h)&&(h!=3||Qa||this.g&&(this.h.h||this.g.ja()||qd(this.g)))){this.J||h!=4||t==7||(t==8||0>=c?as(3):as(2)),Bl(this);var n=this.g.da();this.ca=n;t:if(z_(this)){var r=qd(this.g);e="";var i=r.length,s=Rt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),Ai(this);var o="";break t}this.h.i=new P.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cC(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rs(l)){var a=l;break t}}a=null}if(n=a)mr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Za(this,n);else{this.i=!1,this.o=3,Ue(12),Ln(this),Ai(this);break e}}this.S?(j_(this,h,o),Qa&&this.i&&h==3&&(D_(this.U,this.V,"tick",this.mb),this.V.start())):(mr(this.j,this.m,o,null),Za(this,o)),h==4&&Ln(this),this.i&&!this.J&&(h==4?ay(this.l,this):(this.i=!1,xs(this)))}else FC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ue(12)):(this.o=0,Ue(13)),Ln(this),Ai(this)}}}catch{}finally{}};function z_(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function j_(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=mC(e,n),i==Xo){t==4&&(e.o=4,Ue(14),r=!1),mr(e.j,e.m,null,"[Incomplete Response]");break}else if(i==ba){e.o=4,Ue(15),mr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else mr(e.j,e.m,i,null),Za(e,i);z_(e)&&i!=Xo&&i!=ba&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ue(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$h(t),t.M=!0,Ue(11))):(mr(e.j,e.m,n,"[Invalid Chunked Response]"),Ln(e),Ai(e))}C.mb=function(){if(this.g){var e=Rt(this.g),t=this.g.ja();this.C<t.length&&(Bl(this),j_(this,e,t),this.i&&e!=4&&xs(this))}};function mC(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Xo:(n=Number(t.substring(n,r)),isNaN(n)?ba:(r+=1,r+n>t.length?Xo:(t=t.slice(r,r+n),e.C=r+n,t)))}C.cancel=function(){this.J=!0,Ln(this)};function xs(e){e.Y=Date.now()+e.P,B_(e,e.P)}function B_(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ks(Le(e.lb,e),t)}function Bl(e){e.B&&(P.clearTimeout(e.B),e.B=null)}C.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(hC(this.j,this.A),this.L!=2&&(as(),Ue(17)),Ln(this),this.o=2,Ai(this)):B_(this,this.Y-e)};function Ai(e){e.l.H==0||e.J||ay(e.l,e)}function Ln(e){Bl(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Ih(e.V),O_(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Za(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||ec(n.i,e))){if(!e.K&&ec(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Zo(n),Kl(n);else break e;Fh(n),Ue(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ks(Le(n.ib,n),6e3));if(1>=q_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Mn(n,11)}else if((e.K||n.g==e)&&Zo(n),!rs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let a=i[t];if(n.V=a[0],a=a[1],n.H==2)if(a[0]=="c"){n.K=a[1],n.pa=a[2];const h=a[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const c=a[4];c!=null&&(n.Ga=c,n.l.info("SVER="+n.Ga));const f=a[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Dh(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,b(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=fy(r,r.J?r.pa:null,r.Y),o.K){X_(r.i,o);var l=o,u=r.L;u&&l.setTimeout(u),l.B&&(Bl(l),xs(l)),r.g=o}else ly(r);0<n.j.length&&Ql(n)}else a[0]!="stop"&&a[0]!="close"||Mn(n,7);else n.H==3&&(a[0]=="stop"||a[0]=="close"?a[0]=="stop"?Mn(n,7):Mh(n):a[0]!="noop"&&n.h&&n.h.Aa(a),n.A=0)}}as(4)}catch{}}function _C(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Ll(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function yC(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Ll(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function V_(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Ll(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=yC(e),r=_C(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var H_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vC(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function zn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof zn){this.h=e.h,bo(this,e.j),this.s=e.s,this.g=e.g,Jo(this,e.m),this.l=e.l;var t=e.i,n=new cs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Kd(this,n),this.o=e.o}else e&&(t=String(e).match(H_))?(this.h=!1,bo(this,t[1]||"",!0),this.s=Ei(t[2]||""),this.g=Ei(t[3]||"",!0),Jo(this,t[4]),this.l=Ei(t[5]||"",!0),Kd(this,t[6]||"",!0),this.o=Ei(t[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}zn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(wi(t,Qd,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(wi(t,Qd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(wi(n,n.charAt(0)=="/"?CC:wC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",wi(n,TC)),e.join("")};function Gt(e){return new zn(e)}function bo(e,t,n){e.j=n?Ei(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Kd(e,t,n){t instanceof cs?(e.i=t,IC(e.i,e.h)):(n||(t=wi(t,SC)),e.i=new cs(t,e.h))}function b(e,t,n){e.i.set(t,n)}function Vl(e){return b(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ei(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wi(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,EC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function EC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Qd=/[#\/\?@]/g,wC=/[#\?:]/g,CC=/[#\?]/g,SC=/[#\?@]/g,TC=/#/g;function cs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tn(e){e.g||(e.g=new Map,e.h=0,e.i&&vC(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}C=cs.prototype;C.add=function(e,t){Tn(this),this.i=null,e=Xr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function W_(e,t){Tn(e),t=Xr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function G_(e,t){return Tn(e),t=Xr(e,t),e.g.has(t)}C.forEach=function(e,t){Tn(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};C.ta=function(){Tn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};C.Z=function(e){Tn(this);let t=[];if(typeof e=="string")G_(this,e)&&(t=t.concat(this.g.get(Xr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};C.set=function(e,t){return Tn(this),this.i=null,e=Xr(this,e),G_(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};C.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function K_(e,t,n){W_(e,t),0<n.length&&(e.i=null,e.g.set(Xr(e,t),mh(n)),e.h+=n.length)}C.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Xr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function IC(e,t){t&&!e.j&&(Tn(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(W_(this,r),K_(this,i,n))},e)),e.j=t}var kC=class{constructor(e,t){this.g=e,this.map=t}};function Q_(e){this.l=e||NC,P.PerformanceNavigationTiming?(e=P.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(P.g&&P.g.Ka&&P.g.Ka()&&P.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var NC=10;function Y_(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function q_(e){return e.h?1:e.g?e.g.size:0}function ec(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dh(e,t){e.g?e.g.add(t):e.h=t}function X_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Q_.prototype.cancel=function(){if(this.i=b_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function b_(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return mh(e.i)}var RC=class{stringify(e){return P.JSON.stringify(e,void 0)}parse(e){return P.JSON.parse(e,void 0)}};function xC(){this.g=new RC}function PC(e,t,n){const r=n||"";try{V_(e,function(i,s){let o=i;Ts(i)&&(o=Sh(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function AC(e,t){const n=new zl;if(P.Image){const r=new Image;r.onload=io(oo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=io(oo,n,r,"TestLoadImage: error",!1,t),r.onabort=io(oo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=io(oo,n,r,"TestLoadImage: timeout",!1,t),P.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function oo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Hl(e){this.l=e.fc||null,this.j=e.ob||!1}Ee(Hl,xh);Hl.prototype.g=function(){return new Wl(this.l,this.j)};Hl.prototype.i=function(e){return function(){return e}}({});function Wl(e,t){ve.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Oh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ee(Wl,ve);var Oh=0;C=Wl.prototype;C.open=function(e,t){if(this.readyState!=Oh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hs(this)};C.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||P).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=Oh};C.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;J_(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function J_(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}C.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ps(this):hs(this),this.readyState==3&&J_(this)}};C.Za=function(e){this.g&&(this.response=this.responseText=e,Ps(this))};C.Ya=function(e){this.g&&(this.response=e,Ps(this))};C.ka=function(){this.g&&Ps(this)};function Ps(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hs(e)}C.setRequestHeader=function(e,t){this.v.append(e,t)};C.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};C.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function hs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var DC=P.JSON.parse;function ue(e){ve.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Z_,this.L=this.M=!1}Ee(ue,ve);var Z_="",OC=/^https?$/i,LC=["POST","PUT"];C=ue.prototype;C.Oa=function(e){this.M=e};C.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xa.g(),this.C=this.u?Gd(this.u):Gd(Xa),this.g.onreadystatechange=Le(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Yd(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=P.FormData&&e instanceof P.FormData,!(0<=y_(LC,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ny(this),0<this.B&&((this.L=MC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Le(this.ua,this)):this.A=kh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Yd(this,s)}};function MC(e){return is&&typeof e.timeout=="number"&&e.ontimeout!==void 0}C.ua=function(){typeof gh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))};function Yd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ey(e),Gl(e)}function ey(e){e.F||(e.F=!0,Te(e,"complete"),Te(e,"error"))}C.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),Gl(this))};C.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gl(this,!0)),ue.$.N.call(this)};C.La=function(){this.s||(this.G||this.v||this.l?ty(this):this.kb())};C.kb=function(){ty(this)};function ty(e){if(e.h&&typeof gh<"u"&&(!e.C[1]||Rt(e)!=4||e.da()!=2)){if(e.v&&Rt(e)==4)kh(e.La,0,e);else if(Te(e,"readystatechange"),Rt(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(H_)[1]||null;!i&&P.self&&P.self.location&&(i=P.self.location.protocol.slice(0,-1)),r=!OC.test(i?i.toLowerCase():"")}n=r}if(n)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var s=2<Rt(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",ey(e)}}finally{Gl(e)}}}}function Gl(e,t){if(e.g){ny(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=r}catch{}}}function ny(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(P.clearTimeout(e.A),e.A=null)}C.isActive=function(){return!!this.g};function Rt(e){return e.g?e.g.readyState:0}C.da=function(){try{return 2<Rt(this)?this.g.status:-1}catch{return-1}};C.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};C.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),DC(t)}};function qd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Z_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function FC(e){const t={};e=(e.g&&2<=Rt(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(rs(e[r]))continue;var n=sC(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}Jw(t,function(r){return r.join(", ")})}C.Ia=function(){return this.m};C.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ry(e){let t="";return yh(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Lh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ry(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):b(e,t,n))}function ci(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function iy(e){this.Ga=0,this.j=[],this.l=new zl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ci("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ci("baseRetryDelayMs",5e3,e),this.hb=ci("retryDelaySeedMs",1e4,e),this.eb=ci("forwardChannelMaxRetries",2,e),this.xa=ci("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Q_(e&&e.concurrentRequestLimit),this.Ja=new xC,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}C=iy.prototype;C.ra=8;C.H=1;function Mh(e){if(sy(e),e.H==3){var t=e.W++,n=Gt(e.I);if(b(n,"SID",e.K),b(n,"RID",t),b(n,"TYPE","terminate"),As(e,n),t=new Rs(e,e.l,t),t.L=2,t.v=Vl(Gt(n)),n=!1,P.navigator&&P.navigator.sendBeacon)try{n=P.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&P.Image&&(new Image().src=t.v,n=!0),n||(t.g=dy(t.l,null),t.g.ha(t.v)),t.G=Date.now(),xs(t)}hy(e)}function Kl(e){e.g&&($h(e),e.g.cancel(),e.g=null)}function sy(e){Kl(e),e.u&&(P.clearTimeout(e.u),e.u=null),Zo(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&P.clearTimeout(e.m),e.m=null)}function Ql(e){if(!Y_(e.i)&&!e.m){e.m=!0;var t=e.Na;os||P_(),ls||(os(),ls=!0),Th.add(t,e),e.C=0}}function $C(e,t){return q_(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ks(Le(e.Na,e,t),cy(e,e.C)),e.C++,!0)}C.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Rs(this,this.l,e);let s=this.s;if(this.U&&(s?(s=C_(s),S_(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=oy(this,i,t),n=Gt(this.I),b(n,"RID",e),b(n,"CVER",22),this.F&&b(n,"X-HTTP-Session-Id",this.F),As(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(ry(s)))+"&"+t:this.o&&Lh(n,this.o,s)),Dh(this.i,i),this.bb&&b(n,"TYPE","init"),this.P?(b(n,"$req",t),b(n,"SID","null"),i.aa=!0,Ja(i,n,null)):Ja(i,n,t),this.H=2}}else this.H==3&&(e?Xd(this,e):this.j.length==0||Y_(this.i)||Xd(this))};function Xd(e,t){var n;t?n=t.m:n=e.W++;const r=Gt(e.I);b(r,"SID",e.K),b(r,"RID",n),b(r,"AID",e.V),As(e,r),e.o&&e.s&&Lh(r,e.o,e.s),n=new Rs(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=oy(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dh(e.i,n),Ja(n,r,t)}function As(e,t){e.na&&yh(e.na,function(n,r){b(t,r,n)}),e.h&&V_({},function(n,r){b(t,r,n)})}function oy(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Le(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let u=0;u<n;u++){let a=i[u].g;const h=i[u].map;if(a-=s,0>a)s=Math.max(0,i[u].g-100),l=!1;else try{PC(h,o,"req"+a+"_")}catch{r&&r(h)}}if(l){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ly(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;os||P_(),ls||(os(),ls=!0),Th.add(t,e),e.A=0}}function Fh(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ks(Le(e.Ma,e),cy(e,e.A)),e.A++,!0)}C.Ma=function(){if(this.u=null,uy(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ks(Le(this.jb,this),e)}};C.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ue(10),Kl(this),uy(this))};function $h(e){e.B!=null&&(P.clearTimeout(e.B),e.B=null)}function uy(e){e.g=new Rs(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Gt(e.wa);b(t,"RID","rpc"),b(t,"SID",e.K),b(t,"AID",e.V),b(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&b(t,"TO",e.qa),b(t,"TYPE","xmlhttp"),As(e,t),e.o&&e.s&&Lh(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Vl(Gt(t)),n.s=null,n.S=!0,U_(n,e)}C.ib=function(){this.v!=null&&(this.v=null,Kl(this),Fh(this),Ue(19))};function Zo(e){e.v!=null&&(P.clearTimeout(e.v),e.v=null)}function ay(e,t){var n=null;if(e.g==t){Zo(e),$h(e),e.g=null;var r=2}else if(ec(e.i,t))n=t.F,X_(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Nh(),Te(r,new F_(r,n)),Ql(e)}else ly(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&$C(e,t)||r==2&&Fh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mn(e,5);break;case 4:Mn(e,10);break;case 3:Mn(e,6);break;default:Mn(e,2)}}}function cy(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Mn(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Le(e.pb,e);n||(n=new zn("//www.google.com/images/cleardot.gif"),P.location&&P.location.protocol=="http"||bo(n,"https"),Vl(n)),AC(n.toString(),r)}else Ue(2);e.H=0,e.h&&e.h.za(t),hy(e),sy(e)}C.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ue(2)):(this.l.info("Failed to ping google.com"),Ue(1))};function hy(e){if(e.H=0,e.ma=[],e.h){const t=b_(e.i);(t.length!=0||e.j.length!=0)&&(zd(e.ma,t),zd(e.ma,e.j),e.i.i.length=0,mh(e.j),e.j.length=0),e.h.ya()}}function fy(e,t,n){var r=n instanceof zn?Gt(n):new zn(n);if(r.g!="")t&&(r.g=t+"."+r.g),Jo(r,r.m);else{var i=P.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new zn(null);r&&bo(s,r),t&&(s.g=t),i&&Jo(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&b(r,n,t),b(r,"VER",e.ra),As(e,r),r}function dy(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new ue(new Hl({ob:!0})):new ue(e.va),t.Oa(e.J),t}C.isActive=function(){return!!this.h&&this.h.isActive(this)};function py(){}C=py.prototype;C.Ba=function(){};C.Aa=function(){};C.za=function(){};C.ya=function(){};C.isActive=function(){return!0};C.Va=function(){};function ht(e,t){ve.call(this),this.g=new iy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!rs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rs(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new br(this)}Ee(ht,ve);ht.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ue(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=fy(e,null,e.Y),Ql(e)};ht.prototype.close=function(){Mh(this.g)};ht.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Sh(e),e=n);t.j.push(new kC(t.fb++,e)),t.H==3&&Ql(t)};ht.prototype.N=function(){this.g.h=null,delete this.j,Mh(this.g),delete this.g,ht.$.N.call(this)};function gy(e){Ph.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ee(gy,Ph);function my(){Ah.call(this),this.status=1}Ee(my,Ah);function br(e){this.g=e}Ee(br,py);br.prototype.Ba=function(){Te(this.g,"a")};br.prototype.Aa=function(e){Te(this.g,new gy(e))};br.prototype.za=function(e){Te(this.g,new my)};br.prototype.ya=function(){Te(this.g,"b")};function UC(){this.blockSize=-1}function Dt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ee(Dt,UC);Dt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Uu(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Dt.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Uu(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Uu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Uu(this,r),i=0;break}}this.h=i,this.i+=t};Dt.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function G(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var zC={};function Uh(e){return-128<=e&&128>e?Kw(e,function(t){return new G([t|0],0>t?-1:0)}):new G([e|0],0>e?-1:0)}function xt(e){if(isNaN(e)||!isFinite(e))return Ir;if(0>e)return Ce(xt(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=tc;return new G(t,0)}function _y(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Ce(_y(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xt(Math.pow(t,8)),r=Ir,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=xt(Math.pow(t,s)),r=r.R(s).add(xt(o))):(r=r.R(n),r=r.add(xt(o)))}return r}var tc=4294967296,Ir=Uh(0),nc=Uh(1),bd=Uh(16777216);C=G.prototype;C.ea=function(){if(ot(this))return-Ce(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:tc+r)*t,t*=tc}return e};C.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if($t(this))return"0";if(ot(this))return"-"+Ce(this).toString(e);for(var t=xt(Math.pow(e,6)),n=this,r="";;){var i=tl(n,t).g;n=el(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,$t(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};C.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function $t(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function ot(e){return e.h==-1}C.X=function(e){return e=el(this,e),ot(e)?-1:$t(e)?0:1};function Ce(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new G(n,~e.h).add(nc)}C.abs=function(){return ot(this)?Ce(this):this};C.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new G(n,n[n.length-1]&-2147483648?-1:0)};function el(e,t){return e.add(Ce(t))}C.R=function(e){if($t(this)||$t(e))return Ir;if(ot(this))return ot(e)?Ce(this).R(Ce(e)):Ce(Ce(this).R(e));if(ot(e))return Ce(this.R(Ce(e)));if(0>this.X(bd)&&0>e.X(bd))return xt(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,lo(n,2*r+2*i),n[2*r+2*i+1]+=s*u,lo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,lo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,lo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new G(n,0)};function lo(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function hi(e,t){this.g=e,this.h=t}function tl(e,t){if($t(t))throw Error("division by zero");if($t(e))return new hi(Ir,Ir);if(ot(e))return t=tl(Ce(e),t),new hi(Ce(t.g),Ce(t.h));if(ot(t))return t=tl(e,Ce(t)),new hi(Ce(t.g),t.h);if(30<e.g.length){if(ot(e)||ot(t))throw Error("slowDivide_ only works with positive integers.");for(var n=nc,r=t;0>=r.X(e);)n=Jd(n),r=Jd(r);var i=nr(n,1),s=nr(r,1);for(r=nr(r,2),n=nr(n,2);!$t(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=nr(r,1),n=nr(n,1)}return t=el(e,i.R(t)),new hi(i,t)}for(i=Ir;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=xt(n),o=s.R(t);ot(o)||0<o.X(e);)n-=r,s=xt(n),o=s.R(t);$t(s)&&(s=nc),i=i.add(s),e=el(e,o)}return new hi(i,e)}C.gb=function(e){return tl(this,e).h};C.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new G(n,this.h&e.h)};C.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new G(n,this.h|e.h)};C.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new G(n,this.h^e.h)};function Jd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new G(n,e.h)}function nr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new G(i,e.h)}ht.prototype.send=ht.prototype.u;ht.prototype.open=ht.prototype.m;ht.prototype.close=ht.prototype.close;Rh.NO_ERROR=0;Rh.TIMEOUT=8;Rh.HTTP_ERROR=6;dC.COMPLETE="complete";pC.EventType=Ns;Ns.OPEN="a";Ns.CLOSE="b";Ns.ERROR="c";Ns.MESSAGE="d";ve.prototype.listen=ve.prototype.O;ue.prototype.listenOnce=ue.prototype.P;ue.prototype.getLastError=ue.prototype.Sa;ue.prototype.getLastErrorCode=ue.prototype.Ia;ue.prototype.getStatus=ue.prototype.da;ue.prototype.getResponseJson=ue.prototype.Wa;ue.prototype.getResponseText=ue.prototype.ja;ue.prototype.send=ue.prototype.ha;ue.prototype.setWithCredentials=ue.prototype.Oa;Dt.prototype.digest=Dt.prototype.l;Dt.prototype.reset=Dt.prototype.reset;Dt.prototype.update=Dt.prototype.j;G.prototype.add=G.prototype.add;G.prototype.multiply=G.prototype.R;G.prototype.modulo=G.prototype.gb;G.prototype.compare=G.prototype.X;G.prototype.toNumber=G.prototype.ea;G.prototype.toString=G.prototype.toString;G.prototype.getBits=G.prototype.D;G.fromNumber=xt;G.fromString=_y;var jC=G;const Zd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new dh("@firebase/firestore");function Je(e,...t){if(jr.logLevel<=H.DEBUG){const n=t.map(jh);jr.debug(`Firestore (${Ds}): ${e}`,...n)}}function zh(e,...t){if(jr.logLevel<=H.ERROR){const n=t.map(jh);jr.error(`Firestore (${Ds}): ${e}`,...n)}}function BC(e,...t){if(jr.logLevel<=H.WARN){const n=t.map(jh);jr.warn(`Firestore (${Ds}): ${e}`,...n)}}function jh(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e="Unexpected state"){const t=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+e;throw zh(t),new Error(t)}function rc(e,t){e||Bh()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Yr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Re.UNAUTHENTICATED))}shutdown(){}}class HC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WC{constructor(t){this.t=t,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rc(typeof r.accessToken=="string"),new yy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return rc(t===null||typeof t=="string"),new Re(t)}}class GC{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KC{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new GC(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(rc(typeof n.token=="string"),this.R=n.token,new QC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=qC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function vy(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n,r,i,s,o,l,u,a){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=a}}class nl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof nl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ep,z;(z=ep||(ep={}))[z.OK=0]="OK",z[z.CANCELLED=1]="CANCELLED",z[z.UNKNOWN=2]="UNKNOWN",z[z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",z[z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",z[z.NOT_FOUND=5]="NOT_FOUND",z[z.ALREADY_EXISTS=6]="ALREADY_EXISTS",z[z.PERMISSION_DENIED=7]="PERMISSION_DENIED",z[z.UNAUTHENTICATED=16]="UNAUTHENTICATED",z[z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",z[z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",z[z.ABORTED=10]="ABORTED",z[z.OUT_OF_RANGE=11]="OUT_OF_RANGE",z[z.UNIMPLEMENTED=12]="UNIMPLEMENTED",z[z.INTERNAL=13]="INTERNAL",z[z.UNAVAILABLE=14]="UNAVAILABLE",z[z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new jC([4294967295,4294967295],0);function zu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=s,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new Vh(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(De.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZC(e,t){if(zh("AsyncQueue",`${t}: ${e}`),vy(e))return new Oe(De.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Re.UNAUTHENTICATED,this.clientId=XC.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Je("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ZC(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map;function tS(e,t,n,r){if(t===!0&&r===!0)throw new Oe(De.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function nS(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Bh()}function rS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oe(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nS(e);throw new Oe(De.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Oe(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Oe(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ey((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Oe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Oe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Oe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wy{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new np({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Oe(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new np(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VC;switch(r.type){case"firstParty":return new KC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tp.get(n);r&&(Je("ComponentProvider","Removing Datastore"),tp.delete(n),r.terminate())}(this),Promise.resolve()}}function iS(e,t,n,r={}){var i;const s=(e=rS(e,wy))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&BC("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Re.MOCK_USER;else{l=i_(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Oe(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Re(a)}e._authCredentials=new HC(new yy(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new JC(this,"async_queue_retry"),this.Xa=()=>{const n=zu();n&&Je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=zu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=zu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new kr;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!vy(t))throw t;Je("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw zh("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(t,n,r){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const i=Vh.createAndSchedule(this,t,n,r,s=>this.ru(s));return this.ja.push(i),i}eu(){this.Ha&&Bh()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}class oS extends wy{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new sS}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uS(this),this._firestoreClient.terminate()}}function lS(e,t){const n=typeof e=="object"?e:g_(),r=typeof e=="string"?e:t||"(default)",i=f_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=n_("firestore");s&&iS(i,...s)}return i}function uS(e){var t,n,r;const i=e._freezeSettings(),s=function(l,u,a,h){return new bC(l,u,a,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Ey(h.experimentalLongPollingOptions),h.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new eS(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(t,n=!0){(function(i){Ds=i})(d_),ts(new zr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new oS(new WC(r.getProvider("auth-internal")),new YC(r.getProvider("app-check-internal")),function(a,h){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Oe(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(a.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),pn(Zd,"4.1.0",t),pn(Zd,"4.1.0","esm2017")})();var aS="firebase",cS="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(aS,cS,"app");const rp="@firebase/database",ip="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy="";function hS(e){Cy=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),_e(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:es(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Yt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fS(t)}}catch{}return new dS},Fn=Sy("localStorage"),ic=Sy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new dh("@firebase/database"),pS=function(){let e=1;return function(){return e++}}(),Ty=function(e){const t=OE(e),n=new DE;n.update(t);const r=n.digest();return hh.encodeByteArray(r)},Os=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Os.apply(null,r):typeof r=="object"?t+=_e(r):t+=r,t+=" "}return t};let jn=null,sp=!0;const gS=function(e,t){w(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Nr.logLevel=H.VERBOSE,jn=Nr.log.bind(Nr),t&&ic.set("logging_enabled",!0)):typeof e=="function"?jn=e:(jn=null,ic.remove("logging_enabled"))},Pe=function(...e){if(sp===!0&&(sp=!1,jn===null&&ic.get("logging_enabled")===!0&&gS(!0)),jn){const t=Os.apply(null,e);jn(t)}},Ls=function(e){return function(...t){Pe(e,...t)}},sc=function(...e){const t="FIREBASE INTERNAL ERROR: "+Os(...e);Nr.error(t)},Kt=function(...e){const t=`FIREBASE FATAL ERROR: ${Os(...e)}`;throw Nr.error(t),new Error(t)},et=function(...e){const t="FIREBASE WARNING: "+Os(...e);Nr.warn(t)},mS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Iy=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},_S=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Br="[MIN_NAME]",Qn="[MAX_NAME]",Jr=function(e,t){if(e===t)return 0;if(e===Br||t===Qn)return-1;if(t===Br||e===Qn)return 1;{const n=op(e),r=op(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},yS=function(e,t){return e===t?0:e<t?-1:1},fi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+_e(t))},Hh=function(e){if(typeof e!="object"||e===null)return _e(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=_e(t[r]),n+=":",n+=Hh(e[t[r]]);return n+="}",n},ky=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function qe(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Ny=function(e){w(!Iy(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,u;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const a=[];for(u=n;u;u-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(u=t;u;u-=1)a.push(s%2?1:0),s=Math.floor(s/2);a.push(i?1:0),a.reverse();const h=a.join("");let c="";for(u=0;u<64;u+=8){let f=parseInt(h.substr(u,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},vS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ES=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wS(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const CS=new RegExp("^-?(0*)\\d{1,10}$"),SS=-2147483648,TS=2147483647,op=function(e){if(CS.test(e)){const t=Number(e);if(t>=SS&&t<=TS)return t}return null},Ms=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw et("Exception was thrown by user callback.",n),t},Math.floor(0))}},IS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Di=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(t)}}class Rr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Rr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="5",Ry="v",xy="s",Py="r",Ay="f",Dy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Oy="ls",Ly="p",oc="ac",My="websocket",Fy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t,n,r,i,s=!1,o="",l=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function RS(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Uy(e,t,n){w(typeof t=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let r;if(t===My)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Fy)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);RS(e)&&(n.ns=e.namespace);const i=[];return qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.counters_={}}incrementCounter(t,n=1){Yt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return gE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju={},Bu={};function Gh(e){const t=e.toString();return ju[t]||(ju[t]=new xS),ju[t]}function PS(e,t){const n=e.toString();return Bu[n]||(Bu[n]=t()),Bu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ms(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="start",DS="close",OS="pLPCommand",LS="pRTLPCB",zy="id",jy="pw",By="ser",MS="cb",FS="seg",$S="ts",US="d",zS="dframe",Vy=1870,Hy=30,jS=Vy-Hy,BS=25e3,VS=3e4;class _r{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ls(t),this.stats_=Gh(n),this.urlFn=u=>(this.appCheckToken&&(u[oc]=this.appCheckToken),Uy(n,Fy,u))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AS(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VS)),_S(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kh((...s)=>{const[o,l,u,a,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===lp)this.id=l,this.password=u;else if(o===DS)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[lp]="t",r[By]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[MS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ry]=Wh,this.transportSessionId&&(r[xy]=this.transportSessionId),this.lastSessionId&&(r[Oy]=this.lastSessionId),this.applicationId&&(r[Ly]=this.applicationId),this.appCheckToken&&(r[oc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dy.test(location.hostname)&&(r[Py]=Ay);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_r.forceAllow_=!0}static forceDisallow(){_r.forceDisallow_=!0}static isAvailable(){return _r.forceAllow_?!0:!_r.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vS()&&!ES()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=_e(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Zm(n),i=ky(r,jS);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[zS]="t",r[zy]=t,r[jy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=_e(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Kh{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pS(),window[OS+this.uniqueCallbackIdentifier]=t,window[LS+this.uniqueCallbackIdentifier]=n,this.myIFrame=Kh.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Pe("frame writing exception"),l.stack&&Pe(l.stack),Pe(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Pe("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[zy]=this.myID,t[jy]=this.myPW,t[By]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Hy+r.length<=Vy;){const o=this.pendingSegs.shift();r=r+"&"+FS+i+"="+o.seg+"&"+$S+i+"="+o.ts+"&"+US+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(BS)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Pe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=16384,WS=45e3;let rl=null;typeof MozWebSocket<"u"?rl=MozWebSocket:typeof WebSocket<"u"&&(rl=WebSocket);class _t{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ls(this.connId),this.stats_=Gh(n),this.connURL=_t.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[Ry]=Wh,typeof location<"u"&&location.hostname&&Dy.test(location.hostname)&&(o[Py]=Ay),n&&(o[xy]=n),r&&(o[Oy]=r),i&&(o[oc]=i),s&&(o[Ly]=s),Uy(t,My,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fn.set("previous_websocket_failure",!0);try{let r;o_(),this.mySock=new rl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){_t.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&rl!==null&&!_t.forceDisallow_}static previouslyFailed(){return Fn.isInMemoryStorage||Fn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=es(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(w(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=_e(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ky(n,HS);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WS))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_t.responsesRequiredToBeHealthy=2;_t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[_r,_t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=_t&&_t.isAvailable();let r=n&&!_t.previouslyFailed();if(t.webSocketOnly&&(n||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[_t];else{const i=this.transports_=[];for(const s of fs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);fs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=6e4,KS=5e3,QS=10*1024,YS=100*1024,Vu="t",up="d",qS="s",ap="r",XS="e",cp="o",hp="a",fp="n",dp="p",bS="h";class JS{constructor(t,n,r,i,s,o,l,u,a,h){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=a,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ls("c:"+this.id+":"),this.transportManager_=new fs(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Di(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>QS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Vu in t){const n=t[Vu];n===hp?this.upgradeIfSecondaryHealthy_():n===ap?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=fi("t",t),r=fi("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=fi("t",t),r=fi("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=fi(Vu,t);if(up in t){const r=t[up];if(n===bS){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===fp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qS?this.onConnectionShutdown_(r):n===ap?this.onReset_(r):n===XS?sc("Server Error: "+r):n===cp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wh!==r&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Di(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GS))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Di(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(KS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Gy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!s_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new il}getInitialEvent(t){return w(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=32,gp=768;class K{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function B(){return new K("")}function M(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function yn(e){return e.pieces_.length-e.pieceNum_}function Q(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new K(e.pieces_,t)}function Ky(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ZS(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Qy(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Yy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new K(t,0)}function he(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof K)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new K(n,0)}function F(e){return e.pieceNum_>=e.pieces_.length}function We(e,t){const n=M(e),r=M(t);if(n===null)return t;if(n===r)return We(Q(e),Q(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Qh(e,t){if(yn(e)!==yn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function yt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(yn(e)>yn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class eT{constructor(t,n){this.errorPrefix_=n,this.parts_=Qy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Dl(this.parts_[r]);qy(this)}}function tT(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Dl(t),qy(e)}function nT(e){const t=e.parts_.pop();e.byteLength_-=Dl(t),e.parts_.length>0&&(e.byteLength_-=1)}function qy(e){if(e.byteLength_>gp)throw new Error(e.errorPrefix_+"has a key path longer than "+gp+" bytes ("+e.byteLength_+").");if(e.parts_.length>pp)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pp+") or object contains a cycle "+Pn(e))}function Pn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Gy{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Yh}getInitialEvent(t){return w(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=1e3,rT=60*5*1e3,mp=30*1e3,iT=1.3,sT=3e4,oT="server_kill",_p=3;class jt extends Wy{constructor(t,n,r,i,s,o,l,u){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=jt.nextPersistentConnectionId_++,this.log_=Ls("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=di,this.maxReconnectDelay_=rT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!o_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&il.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(_e(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new fh,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,a=l.s;jt.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(a,u))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Yt(t,"w")){const r=Ur(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||PE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=xE(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+_e(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):sc("Unrecognized action received from server: "+_e(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sT&&(this.reconnectDelay_=di),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*iT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+jt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},a=function(c){w(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:u,sendRequest:a};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new JS(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,m=>{et(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(oT)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&et(c),u())}}}interrupt(t){Pe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Pe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Pd(this.interruptReasons_)&&(this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Hh(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new K(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Pe("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_p&&(this.reconnectDelay_=mp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Pe("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_p&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Cy.replace(/\./g,"-")]=1,s_()?t["framework.cordova"]=1:SE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=il.getInstance().currentlyOnline();return Pd(this.interruptReasons_)&&t}}jt.nextPersistentConnectionId_=0;jt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new L(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new L(Br,t),i=new L(Br,n);return this.compare(r,i)!==0}minPost(){return L.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo;class Xy extends Yl{static get __EMPTY_NODE(){return uo}static set __EMPTY_NODE(t){uo=t}compare(t,n){return Jr(t.name,n.name)}isDefinedOn(t){throw Qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return L.MIN}maxPost(){return new L(Qn,uo)}makePost(t,n){return w(typeof t=="string","KeyIndex indexValue must always be a string."),new L(t,uo)}toString(){return".key"}}const xr=new Xy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class me{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??me.RED,this.left=i??Ge.EMPTY_NODE,this.right=s??Ge.EMPTY_NODE}copy(t,n,r,i,s){return new me(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ge.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ge.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}me.RED=!0;me.BLACK=!1;class lT{copy(t,n,r,i,s){return this}insert(t,n,r){return new me(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ge{constructor(t,n=Ge.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ge(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,me.BLACK,null,null))}remove(t){return new Ge(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,me.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ao(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ao(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ao(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ao(this.root_,null,this.comparator_,!0,t)}}Ge.EMPTY_NODE=new lT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(e,t){return Jr(e.name,t.name)}function qh(e,t){return Jr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc;function aT(e){lc=e}const by=function(e){return typeof e=="number"?"number:"+Ny(e):"string:"+e},Jy=function(e){if(e.isLeafNode()){const t=e.val();w(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Yt(t,".sv"),"Priority must be a string or number.")}else w(e===lc||e.isEmpty(),"priority of unexpected type.");w(e===lc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp;class pe{constructor(t,n=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Jy(this.priorityNode_)}static set __childrenNodeConstructor(t){yp=t}static get __childrenNodeConstructor(){return yp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new pe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return F(t)?this:M(t)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=M(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(w(r!==".priority"||yn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Q(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+by(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Ny(this.value_):t+=this.value_,this.lazyHash_=Ty(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===pe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof pe.__childrenNodeConstructor?-1:(w(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=pe.VALUE_TYPE_ORDER.indexOf(n),s=pe.VALUE_TYPE_ORDER.indexOf(r);return w(i>=0,"Unknown leaf type: "+n),w(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy,ev;function cT(e){Zy=e}function hT(e){ev=e}class fT extends Yl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Jr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(Qn,new pe("[PRIORITY-POST]",ev))}makePost(t,n){const r=Zy(t);return new L(n,new pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ie=new fT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=Math.log(2);class pT{constructor(t){const n=s=>parseInt(Math.log(s)/dT,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const sl=function(e,t,n,r){e.sort(t);const i=function(u,a){const h=a-u;let c,f;if(h===0)return null;if(h===1)return c=e[u],f=n?n(c):c,new me(f,c.node,me.BLACK,null,null);{const m=parseInt(h/2,10)+u,_=i(u,m),y=i(m+1,a);return c=e[m],f=n?n(c):c,new me(f,c.node,me.BLACK,_,y)}},s=function(u){let a=null,h=null,c=e.length;const f=function(_,y){const A=c-_,p=c;c-=_;const d=i(A+1,p),g=e[A],v=n?n(g):g;m(new me(v,g.node,y,null,d))},m=function(_){a?(a.left=_,a=_):(h=_,a=_)};for(let _=0;_<u.count;++_){const y=u.nextBitIsOne(),A=Math.pow(2,u.count-(_+1));y?f(A,me.BLACK):(f(A,me.BLACK),f(A,me.RED))}return h},o=new pT(e.length),l=s(o);return new Ge(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;const rr={};class Ut{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return w(rr&&ie,"ChildrenNode.ts has not been loaded"),Hu=Hu||new Ut({".priority":rr},{".priority":ie}),Hu}get(t){const n=Ur(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ge?n:null}hasIndex(t){return Yt(this.indexSet_,t.toString())}addIndex(t,n){w(t!==xr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(L.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=sl(r,t.getCompare()):l=rr;const u=t.toString(),a=Object.assign({},this.indexSet_);a[u]=t;const h=Object.assign({},this.indexes_);return h[u]=l,new Ut(h,a)}addToIndexes(t,n){const r=Yo(this.indexes_,(i,s)=>{const o=Ur(this.indexSet_,s);if(w(o,"Missing index implementation for "+s),i===rr)if(o.isDefinedOn(t.node)){const l=[],u=n.getIterator(L.Wrap);let a=u.getNext();for(;a;)a.name!==t.name&&l.push(a),a=u.getNext();return l.push(t),sl(l,o.getCompare())}else return rr;else{const l=n.get(t.name);let u=i;return l&&(u=u.remove(new L(t.name,l))),u.insert(t,t.node)}});return new Ut(r,this.indexSet_)}removeFromIndexes(t,n){const r=Yo(this.indexes_,i=>{if(i===rr)return i;{const s=n.get(t.name);return s?i.remove(new L(t.name,s)):i}});return new Ut(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pi;class x{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Jy(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pi||(pi=new x(new Ge(qh),null,Ut.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pi}updatePriority(t){return this.children_.isEmpty()?this:new x(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?pi:n}}getChild(t){const n=M(t);return n===null?this:this.getImmediateChild(n).getChild(Q(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(w(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new L(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?pi:this.priorityNode_;return new x(i,o,s)}}updateChild(t,n){const r=M(t);if(r===null)return n;{w(M(t)!==".priority"||yn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Q(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ie,(o,l)=>{n[o]=l.val(t),r++,s&&x.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+by(this.getPriority().val())+":"),this.forEachChild(ie,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":Ty(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new L(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new L(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new L(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,L.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,L.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Fs?-1:0}withIndex(t){if(t===xr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new x(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===xr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ie),i=n.getIterator(ie);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===xr?null:this.indexMap_.get(t.toString())}}x.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gT extends x{constructor(){super(new Ge(qh),x.EMPTY_NODE,Ut.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}}const Fs=new gT;Object.defineProperties(L,{MIN:{value:new L(Br,x.EMPTY_NODE)},MAX:{value:new L(Qn,Fs)}});Xy.__EMPTY_NODE=x.EMPTY_NODE;pe.__childrenNodeConstructor=x;aT(Fs);hT(Fs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=!0;function Ae(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),w(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new pe(n,Ae(t))}if(!(e instanceof Array)&&mT){const n=[];let r=!1;if(qe(e,(o,l)=>{if(o.substring(0,1)!=="."){const u=Ae(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new L(o,u)))}}),n.length===0)return x.EMPTY_NODE;const s=sl(n,uT,o=>o.name,qh);if(r){const o=sl(n,ie.getCompare());return new x(s,Ae(t),new Ut({".priority":o},{".priority":ie}))}else return new x(s,Ae(t),Ut.Default)}else{let n=x.EMPTY_NODE;return qe(e,(r,i)=>{if(Yt(e,r)&&r.substring(0,1)!=="."){const s=Ae(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ae(t))}}cT(Ae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends Yl{constructor(t){super(),this.indexPath_=t,w(!F(t)&&M(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Jr(t.name,n.name):s}makePost(t,n){const r=Ae(t),i=x.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){const t=x.EMPTY_NODE.updateChild(this.indexPath_,Fs);return new L(Qn,t)}toString(){return Qy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends Yl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Jr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(t,n){const r=Ae(t);return new L(n,r)}toString(){return".value"}}const vT=new yT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e){return{type:"value",snapshotNode:e}}function Vr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ds(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ps(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function ET(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(ds(n,l)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Vr(n,r)):o.trackChildChange(ps(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ie,(i,s)=>{n.hasChild(i)||r.trackChildChange(ds(i,s))}),n.isLeafNode()||n.forEachChild(ie,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(ps(i,s,o))}else r.trackChildChange(Vr(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.indexedFilter_=new Xh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gs.getStartPost_(t),this.endPost_=gs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new L(n,r))||(r=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=x.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(x.EMPTY_NODE);const s=this;return n.forEachChild(ie,(o,l)=>{s.matches(new L(o,l))||(i=i.updateImmediateChild(o,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new L(n,r))||(r=x.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=x.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(x.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(f,m)=>c(m,f)}else o=this.index_.getCompare();const l=t;w(l.numChildren()===this.limit_,"");const u=new L(n,r),a=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(n)){const c=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,a,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,u);if(h&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(ps(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ds(n,c));const y=l.updateImmediateChild(n,x.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Vr(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:h&&o(a,u)>=0?(s!=null&&(s.trackChildChange(ds(a.name,a.node)),s.trackChildChange(Vr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(a.name,x.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Br}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ie}copy(){const t=new bh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function CT(e){return e.loadsAllData()?new Xh(e.getIndex()):e.hasLimit()?new wT(e):new gs(e)}function vp(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ie?n="$priority":e.index_===vT?n="$value":e.index_===xr?n="$key":(w(e.index_ instanceof _T,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=_e(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=_e(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+_e(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=_e(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+_e(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ep(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ie&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Wy{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ls("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=ol.getListenId_(t,r),l={};this.listens_[o]=l;const u=vp(t._queryParams);this.restRequest_(s+".json",u,(a,h)=>{let c=h;if(a===404&&(c=null,a=null),a===null&&this.onDataUpdate_(s,c,!1,r),Ur(this.listens_,o)===l){let f;a?a===401?f="permission_denied":f="rest_error:"+a:f="ok",i(f,null)}})}unlisten(t,n){const r=ol.getListenId_(t,n);delete this.listens_[r]}get(t){const n=vp(t._queryParams),r=t._path.toString(),i=new fh;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+AE(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=es(l.responseText)}catch{et("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&et("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(){return{value:null,children:new Map}}function nv(e,t,n){if(F(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=M(t);e.children.has(r)||e.children.set(r,ll());const i=e.children.get(r);t=Q(t),nv(i,t,n)}}function uc(e,t,n){e.value!==null?n(t,e.value):TT(e,(r,i)=>{const s=new K(t.toString()+"/"+r);uc(i,s,n)})}function TT(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=10*1e3,kT=30*1e3,NT=5*60*1e3;class RT{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new IT(t);const r=wp+(kT-wp)*Math.random();Di(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;qe(t,(i,s)=>{s>0&&Yt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Di(this.reportStats_.bind(this),Math.floor(Math.random()*2*NT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(vt||(vt={}));function rv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Jh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zh(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=vt.ACK_USER_WRITE,this.source=rv()}operationForChild(t){if(F(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new K(t));return new ul(B(),n,this.revert)}}else return w(M(this.path)===t,"operationForChild called for unrelated child."),new ul(Q(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,n){this.source=t,this.path=n,this.type=vt.LISTEN_COMPLETE}operationForChild(t){return F(this.path)?new ms(this.source,B()):new ms(this.source,Q(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=vt.OVERWRITE}operationForChild(t){return F(this.path)?new Yn(this.source,B(),this.snap.getImmediateChild(t)):new Yn(this.source,Q(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=vt.MERGE}operationForChild(t){if(F(this.path)){const n=this.children.subtree(new K(t));return n.isEmpty()?null:n.value?new Yn(this.source,B(),n.value):new _s(this.source,B(),n)}else return w(M(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new _s(this.source,Q(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(F(t))return this.isFullyInitialized()&&!this.filtered_;const n=M(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function PT(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ET(o.childName,o.snapshotNode))}),gi(e,i,"child_removed",t,r,n),gi(e,i,"child_added",t,r,n),gi(e,i,"child_moved",s,r,n),gi(e,i,"child_changed",t,r,n),gi(e,i,"value",t,r,n),i}function gi(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>DT(e,l,u)),o.forEach(l=>{const u=AT(e,l,s);i.forEach(a=>{a.respondsTo(l.type)&&t.push(a.createEvent(u,e.query_))})})}function AT(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function DT(e,t,n){if(t.childName==null||n.childName==null)throw Qr("Should only compare child_ events.");const r=new L(t.childName,t.snapshotNode),i=new L(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(e,t){return{eventCache:e,serverCache:t}}function Oi(e,t,n,r){return ql(new qn(t,n,r),e.serverCache)}function iv(e,t,n,r){return ql(e.eventCache,new qn(t,n,r))}function ac(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;const OT=()=>(Wu||(Wu=new Ge(yS)),Wu);class X{constructor(t,n=OT()){this.value=t,this.children=n}static fromObject(t){let n=new X(null);return qe(t,(r,i)=>{n=n.set(new K(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:B(),value:this.value};if(F(t))return null;{const r=M(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Q(t),n);return s!=null?{path:he(new K(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(F(t))return this;{const n=M(t),r=this.children.get(n);return r!==null?r.subtree(Q(t)):new X(null)}}set(t,n){if(F(t))return new X(n,this.children);{const r=M(t),s=(this.children.get(r)||new X(null)).set(Q(t),n),o=this.children.insert(r,s);return new X(this.value,o)}}remove(t){if(F(t))return this.children.isEmpty()?new X(null):new X(null,this.children);{const n=M(t),r=this.children.get(n);if(r){const i=r.remove(Q(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new X(null):new X(this.value,s)}else return this}}get(t){if(F(t))return this.value;{const n=M(t),r=this.children.get(n);return r?r.get(Q(t)):null}}setTree(t,n){if(F(t))return n;{const r=M(t),s=(this.children.get(r)||new X(null)).setTree(Q(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new X(this.value,o)}}fold(t){return this.fold_(B(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(he(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,B(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(F(t))return null;{const s=M(t),o=this.children.get(s);return o?o.findOnPath_(Q(t),he(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,B(),n)}foreachOnPath_(t,n,r){if(F(t))return this;{this.value&&r(n,this.value);const i=M(t),s=this.children.get(i);return s?s.foreachOnPath_(Q(t),he(n,i),r):new X(null)}}foreach(t){this.foreach_(B(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(he(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.writeTree_=t}static empty(){return new Ct(new X(null))}}function Li(e,t,n){if(F(t))return new Ct(new X(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=We(i,t);return s=s.updateChild(o,n),new Ct(e.writeTree_.set(i,s))}else{const i=new X(n),s=e.writeTree_.setTree(t,i);return new Ct(s)}}}function Cp(e,t,n){let r=e;return qe(n,(i,s)=>{r=Li(r,he(t,i),s)}),r}function Sp(e,t){if(F(t))return Ct.empty();{const n=e.writeTree_.setTree(t,new X(null));return new Ct(n)}}function cc(e,t){return Zn(e,t)!=null}function Zn(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(We(n.path,t)):null}function Tp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ie,(r,i)=>{t.push(new L(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new L(r,i.value))}),t}function gn(e,t){if(F(t))return e;{const n=Zn(e,t);return n!=null?new Ct(new X(n)):new Ct(e.writeTree_.subtree(t))}}function hc(e){return e.writeTree_.isEmpty()}function Hr(e,t){return sv(B(),e.writeTree_,t)}function sv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(w(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=sv(he(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(he(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e,t){return av(t,e)}function LT(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Li(e.visibleWrites,t,n)),e.lastWriteId=r}function MT(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function FT(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&$T(l,r.path)?i=!1:yt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return UT(e),!0;if(r.snap)e.visibleWrites=Sp(e.visibleWrites,r.path);else{const l=r.children;qe(l,u=>{e.visibleWrites=Sp(e.visibleWrites,he(r.path,u))})}return!0}else return!1}function $T(e,t){if(e.snap)return yt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&yt(he(e.path,n),t))return!0;return!1}function UT(e){e.visibleWrites=ov(e.allWrites,zT,B()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function zT(e){return e.visible}function ov(e,t,n){let r=Ct.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)yt(n,o)?(l=We(n,o),r=Li(r,l,s.snap)):yt(o,n)&&(l=We(o,n),r=Li(r,B(),s.snap.getChild(l)));else if(s.children){if(yt(n,o))l=We(n,o),r=Cp(r,l,s.children);else if(yt(o,n))if(l=We(o,n),F(l))r=Cp(r,B(),s.children);else{const u=Ur(s.children,M(l));if(u){const a=u.getChild(Q(l));r=Li(r,B(),a)}}}else throw Qr("WriteRecord should have .snap or .children")}}return r}function lv(e,t,n,r,i){if(!r&&!i){const s=Zn(e.visibleWrites,t);if(s!=null)return s;{const o=gn(e.visibleWrites,t);if(hc(o))return n;if(n==null&&!cc(o,B()))return null;{const l=n||x.EMPTY_NODE;return Hr(o,l)}}}else{const s=gn(e.visibleWrites,t);if(!i&&hc(s))return n;if(!i&&n==null&&!cc(s,B()))return null;{const o=function(a){return(a.visible||i)&&(!r||!~r.indexOf(a.writeId))&&(yt(a.path,t)||yt(t,a.path))},l=ov(e.allWrites,o,t),u=n||x.EMPTY_NODE;return Hr(l,u)}}}function jT(e,t,n){let r=x.EMPTY_NODE;const i=Zn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ie,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=gn(e.visibleWrites,t);return n.forEachChild(ie,(o,l)=>{const u=Hr(gn(s,new K(o)),l);r=r.updateImmediateChild(o,u)}),Tp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=gn(e.visibleWrites,t);return Tp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function BT(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=he(t,n);if(cc(e.visibleWrites,s))return null;{const o=gn(e.visibleWrites,s);return hc(o)?i.getChild(n):Hr(o,i.getChild(n))}}function VT(e,t,n,r){const i=he(t,n),s=Zn(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=gn(e.visibleWrites,i);return Hr(o,r.getNode().getImmediateChild(n))}else return null}function HT(e,t){return Zn(e.visibleWrites,t)}function WT(e,t,n,r,i,s,o){let l;const u=gn(e.visibleWrites,t),a=Zn(u,B());if(a!=null)l=a;else if(n!=null)l=Hr(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],c=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let m=f.getNext();for(;m&&h.length<i;)c(m,r)!==0&&h.push(m),m=f.getNext();return h}else return[]}function GT(){return{visibleWrites:Ct.empty(),allWrites:[],lastWriteId:-1}}function al(e,t,n,r){return lv(e.writeTree,e.treePath,t,n,r)}function tf(e,t){return jT(e.writeTree,e.treePath,t)}function Ip(e,t,n,r){return BT(e.writeTree,e.treePath,t,n,r)}function cl(e,t){return HT(e.writeTree,he(e.treePath,t))}function KT(e,t,n,r,i,s){return WT(e.writeTree,e.treePath,t,n,r,i,s)}function nf(e,t,n){return VT(e.writeTree,e.treePath,t,n)}function uv(e,t){return av(he(e.treePath,t),e.writeTree)}function av(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ps(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ds(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Vr(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ps(r,t.snapshotNode,i.oldSnap));else throw Qr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const cv=new YT;class rf{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new qn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nf(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xn(this.viewCache_),s=KT(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(e){return{filter:e}}function XT(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function bT(e,t,n,r,i){const s=new QT;let o,l;if(n.type===vt.OVERWRITE){const a=n;a.source.fromUser?o=fc(e,t,a.path,a.snap,r,i,s):(w(a.source.fromServer,"Unknown source."),l=a.source.tagged||t.serverCache.isFiltered()&&!F(a.path),o=hl(e,t,a.path,a.snap,r,i,l,s))}else if(n.type===vt.MERGE){const a=n;a.source.fromUser?o=ZT(e,t,a.path,a.children,r,i,s):(w(a.source.fromServer,"Unknown source."),l=a.source.tagged||t.serverCache.isFiltered(),o=dc(e,t,a.path,a.children,r,i,l,s))}else if(n.type===vt.ACK_USER_WRITE){const a=n;a.revert?o=nI(e,t,a.path,r,i,s):o=eI(e,t,a.path,a.affectedTree,r,i,s)}else if(n.type===vt.LISTEN_COMPLETE)o=tI(e,t,n.path,r,s);else throw Qr("Unknown operation type: "+n.type);const u=s.getChanges();return JT(t,o,u),{viewCache:o,changes:u}}function JT(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ac(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(tv(ac(t)))}}function hv(e,t,n,r,i,s){const o=t.eventCache;if(cl(r,n)!=null)return t;{let l,u;if(F(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const a=Xn(t),h=a instanceof x?a:x.EMPTY_NODE,c=tf(r,h);l=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const a=al(r,Xn(t));l=e.filter.updateFullNode(t.eventCache.getNode(),a,s)}else{const a=M(n);if(a===".priority"){w(yn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();u=t.serverCache.getNode();const c=Ip(r,n,h,u);c!=null?l=e.filter.updatePriority(h,c):l=o.getNode()}else{const h=Q(n);let c;if(o.isCompleteForChild(a)){u=t.serverCache.getNode();const f=Ip(r,n,o.getNode(),u);f!=null?c=o.getNode().getImmediateChild(a).updateChild(h,f):c=o.getNode().getImmediateChild(a)}else c=nf(r,a,t.serverCache);c!=null?l=e.filter.updateChild(o.getNode(),a,c,h,i,s):l=o.getNode()}}return Oi(t,l,o.isFullyInitialized()||F(n),e.filter.filtersNodes())}}function hl(e,t,n,r,i,s,o,l){const u=t.serverCache;let a;const h=o?e.filter:e.filter.getIndexedFilter();if(F(n))a=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const m=u.getNode().updateChild(n,r);a=h.updateFullNode(u.getNode(),m,null)}else{const m=M(n);if(!u.isCompleteForPath(n)&&yn(n)>1)return t;const _=Q(n),A=u.getNode().getImmediateChild(m).updateChild(_,r);m===".priority"?a=h.updatePriority(u.getNode(),A):a=h.updateChild(u.getNode(),m,A,_,cv,null)}const c=iv(t,a,u.isFullyInitialized()||F(n),h.filtersNodes()),f=new rf(i,c,s);return hv(e,c,n,i,f,l)}function fc(e,t,n,r,i,s,o){const l=t.eventCache;let u,a;const h=new rf(i,t,s);if(F(n))a=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=Oi(t,a,!0,e.filter.filtersNodes());else{const c=M(n);if(c===".priority")a=e.filter.updatePriority(t.eventCache.getNode(),r),u=Oi(t,a,l.isFullyInitialized(),l.isFiltered());else{const f=Q(n),m=l.getNode().getImmediateChild(c);let _;if(F(f))_=r;else{const y=h.getCompleteChild(c);y!=null?Ky(f)===".priority"&&y.getChild(Yy(f)).isEmpty()?_=y:_=y.updateChild(f,r):_=x.EMPTY_NODE}if(m.equals(_))u=t;else{const y=e.filter.updateChild(l.getNode(),c,_,f,h,o);u=Oi(t,y,l.isFullyInitialized(),e.filter.filtersNodes())}}}return u}function kp(e,t){return e.eventCache.isCompleteForChild(t)}function ZT(e,t,n,r,i,s,o){let l=t;return r.foreach((u,a)=>{const h=he(n,u);kp(t,M(h))&&(l=fc(e,l,h,a,i,s,o))}),r.foreach((u,a)=>{const h=he(n,u);kp(t,M(h))||(l=fc(e,l,h,a,i,s,o))}),l}function Np(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function dc(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t,a;F(n)?a=r:a=new X(null).setTree(n,r);const h=t.serverCache.getNode();return a.children.inorderTraversal((c,f)=>{if(h.hasChild(c)){const m=t.serverCache.getNode().getImmediateChild(c),_=Np(e,m,f);u=hl(e,u,new K(c),_,i,s,o,l)}}),a.children.inorderTraversal((c,f)=>{const m=!t.serverCache.isCompleteForChild(c)&&f.value===null;if(!h.hasChild(c)&&!m){const _=t.serverCache.getNode().getImmediateChild(c),y=Np(e,_,f);u=hl(e,u,new K(c),y,i,s,o,l)}}),u}function eI(e,t,n,r,i,s,o){if(cl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),u=t.serverCache;if(r.value!=null){if(F(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return hl(e,t,n,u.getNode().getChild(n),i,s,l,o);if(F(n)){let a=new X(null);return u.getNode().forEachChild(xr,(h,c)=>{a=a.set(new K(h),c)}),dc(e,t,n,a,i,s,l,o)}else return t}else{let a=new X(null);return r.foreach((h,c)=>{const f=he(n,h);u.isCompleteForPath(f)&&(a=a.set(h,u.getNode().getChild(f)))}),dc(e,t,n,a,i,s,l,o)}}function tI(e,t,n,r,i){const s=t.serverCache,o=iv(t,s.getNode(),s.isFullyInitialized()||F(n),s.isFiltered());return hv(e,o,n,r,cv,i)}function nI(e,t,n,r,i,s){let o;if(cl(r,n)!=null)return t;{const l=new rf(r,t,i),u=t.eventCache.getNode();let a;if(F(n)||M(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=al(r,Xn(t));else{const c=t.serverCache.getNode();w(c instanceof x,"serverChildren would be complete if leaf node"),h=tf(r,c)}h=h,a=e.filter.updateFullNode(u,h,s)}else{const h=M(n);let c=nf(r,h,t.serverCache);c==null&&t.serverCache.isCompleteForChild(h)&&(c=u.getImmediateChild(h)),c!=null?a=e.filter.updateChild(u,h,c,Q(n),l,s):t.eventCache.getNode().hasChild(h)?a=e.filter.updateChild(u,h,x.EMPTY_NODE,Q(n),l,s):a=u,a.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=al(r,Xn(t)),o.isLeafNode()&&(a=e.filter.updateFullNode(a,o,s)))}return o=t.serverCache.isFullyInitialized()||cl(r,B())!=null,Oi(t,a,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Xh(r.getIndex()),s=CT(r);this.processor_=qT(s);const o=n.serverCache,l=n.eventCache,u=i.updateFullNode(x.EMPTY_NODE,o.getNode(),null),a=s.updateFullNode(x.EMPTY_NODE,l.getNode(),null),h=new qn(u,o.isFullyInitialized(),i.filtersNodes()),c=new qn(a,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=ql(c,h),this.eventGenerator_=new xT(this.query_)}get query(){return this.query_}}function iI(e){return e.viewCache_.serverCache.getNode()}function sI(e,t){const n=Xn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!F(t)&&!n.getImmediateChild(M(t)).isEmpty())?n.getChild(t):null}function Rp(e){return e.eventRegistrations_.length===0}function oI(e,t){e.eventRegistrations_.push(t)}function xp(e,t,n){const r=[];if(n){w(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Pp(e,t,n,r){t.type===vt.MERGE&&t.source.queryId!==null&&(w(Xn(e.viewCache_),"We should always have a full cache before handling merges"),w(ac(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=bT(e.processor_,i,t,n,r);return XT(e.processor_,s.viewCache),w(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,fv(e,s.changes,s.viewCache.eventCache.getNode(),null)}function lI(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,(s,o)=>{r.push(Vr(s,o))}),n.isFullyInitialized()&&r.push(tv(n.getNode())),fv(e,r,n.getNode(),t)}function fv(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return PT(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class uI{constructor(){this.views=new Map}}function aI(e){w(!fl,"__referenceConstructor has already been defined"),fl=e}function cI(){return w(fl,"Reference.ts has not been loaded"),fl}function hI(e){return e.views.size===0}function sf(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return w(s!=null,"SyncTree gave us an op for an invalid query."),Pp(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Pp(o,t,n,r));return s}}function fI(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=al(n,i?r:null),u=!1;l?u=!0:r instanceof x?(l=tf(n,r),u=!1):(l=x.EMPTY_NODE,u=!1);const a=ql(new qn(l,u,!1),new qn(r,i,!1));return new rI(t,a)}return o}function dI(e,t,n,r,i,s){const o=fI(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),oI(o,n),lI(o,n)}function pI(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=vn(e);if(i==="default")for(const[u,a]of e.views.entries())o=o.concat(xp(a,n,r)),Rp(a)&&(e.views.delete(u),a.query._queryParams.loadsAllData()||s.push(a.query));else{const u=e.views.get(i);u&&(o=o.concat(xp(u,n,r)),Rp(u)&&(e.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!vn(e)&&s.push(new(cI())(t._repo,t._path)),{removed:s,events:o}}function dv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Pr(e,t){let n=null;for(const r of e.views.values())n=n||sI(r,t);return n}function pv(e,t){if(t._queryParams.loadsAllData())return Xl(e);{const r=t._queryIdentifier;return e.views.get(r)}}function gv(e,t){return pv(e,t)!=null}function vn(e){return Xl(e)!=null}function Xl(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;function gI(e){w(!dl,"__referenceConstructor has already been defined"),dl=e}function mI(){return w(dl,"Reference.ts has not been loaded"),dl}let _I=1;class Ap{constructor(t){this.listenProvider_=t,this.syncPointTree_=new X(null),this.pendingWriteTree_=GT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yI(e,t,n,r,i){return LT(e.pendingWriteTree_,t,n,r,i),i?$s(e,new Yn(rv(),t,n)):[]}function yr(e,t,n=!1){const r=MT(e.pendingWriteTree_,t);if(FT(e.pendingWriteTree_,t)){let s=new X(null);return r.snap!=null?s=s.set(B(),!0):qe(r.children,o=>{s=s.set(new K(o),!0)}),$s(e,new ul(r.path,s,n))}else return[]}function bl(e,t,n){return $s(e,new Yn(Jh(),t,n))}function vI(e,t,n){const r=X.fromObject(n);return $s(e,new _s(Jh(),t,r))}function EI(e,t){return $s(e,new ms(Jh(),t))}function wI(e,t,n){const r=of(e,n);if(r){const i=lf(r),s=i.path,o=i.queryId,l=We(s,t),u=new ms(Zh(o),l);return uf(e,s,u)}else return[]}function pc(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||gv(o,t))){const u=pI(o,t,n,r);hI(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const a=u.removed;if(l=u.events,!i){const h=a.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(s,(f,m)=>vn(m));if(h&&!c){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=TI(f);for(let _=0;_<m.length;++_){const y=m[_],A=y.query,p=vv(e,y);e.listenProvider_.startListening(Mi(A),pl(e,A),p.hashFn,p.onComplete)}}}!c&&a.length>0&&!r&&(h?e.listenProvider_.stopListening(Mi(t),null):a.forEach(f=>{const m=e.queryToTagMap.get(Jl(f));e.listenProvider_.stopListening(Mi(f),m)}))}II(e,a)}return l}function CI(e,t,n,r){const i=of(e,r);if(i!=null){const s=lf(i),o=s.path,l=s.queryId,u=We(o,t),a=new Yn(Zh(l),u,n);return uf(e,o,a)}else return[]}function SI(e,t,n,r){const i=of(e,r);if(i){const s=lf(i),o=s.path,l=s.queryId,u=We(o,t),a=X.fromObject(n),h=new _s(Zh(l),u,a);return uf(e,o,h)}else return[]}function Dp(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,m)=>{const _=We(f,i);s=s||Pr(m,_),o=o||vn(m)});let l=e.syncPointTree_.get(i);l?(o=o||vn(l),s=s||Pr(l,B())):(l=new uI,e.syncPointTree_=e.syncPointTree_.set(i,l));let u;s!=null?u=!0:(u=!1,s=x.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((m,_)=>{const y=Pr(_,B());y&&(s=s.updateImmediateChild(m,y))}));const a=gv(l,t);if(!a&&!t._queryParams.loadsAllData()){const f=Jl(t);w(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=kI();e.queryToTagMap.set(f,m),e.tagToQueryMap.set(m,f)}const h=ef(e.pendingWriteTree_,i);let c=dI(l,t,n,h,s,u);if(!a&&!o&&!r){const f=pv(l,t);c=c.concat(NI(e,t,f))}return c}function mv(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const u=We(o,t),a=Pr(l,u);if(a)return a});return lv(i,t,s,n,!0)}function $s(e,t){return _v(t,e.syncPointTree_,null,ef(e.pendingWriteTree_,B()))}function _v(e,t,n,r){if(F(e.path))return yv(e,t,n,r);{const i=t.get(B());n==null&&i!=null&&(n=Pr(i,B()));let s=[];const o=M(e.path),l=e.operationForChild(o),u=t.children.get(o);if(u&&l){const a=n?n.getImmediateChild(o):null,h=uv(r,o);s=s.concat(_v(l,u,a,h))}return i&&(s=s.concat(sf(i,e,r,n))),s}}function yv(e,t,n,r){const i=t.get(B());n==null&&i!=null&&(n=Pr(i,B()));let s=[];return t.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,a=uv(r,o),h=e.operationForChild(o);h&&(s=s.concat(yv(h,l,u,a)))}),i&&(s=s.concat(sf(i,e,r,n))),s}function vv(e,t){const n=t.query,r=pl(e,n);return{hashFn:()=>(iI(t)||x.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?wI(e,n._path,r):EI(e,n._path);{const s=wS(i,n);return pc(e,n,null,s)}}}}function pl(e,t){const n=Jl(t);return e.queryToTagMap.get(n)}function Jl(e){return e._path.toString()+"$"+e._queryIdentifier}function of(e,t){return e.tagToQueryMap.get(t)}function lf(e){const t=e.indexOf("$");return w(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new K(e.substr(0,t))}}function uf(e,t,n){const r=e.syncPointTree_.get(t);w(r,"Missing sync point for query tag that we're tracking");const i=ef(e.pendingWriteTree_,t);return sf(r,n,i,null)}function TI(e){return e.fold((t,n,r)=>{if(n&&vn(n))return[Xl(n)];{let i=[];return n&&(i=dv(n)),qe(r,(s,o)=>{i=i.concat(o)}),i}})}function Mi(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(mI())(e._repo,e._path):e}function II(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Jl(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function kI(){return _I++}function NI(e,t,n){const r=t._path,i=pl(e,t),s=vv(e,n),o=e.listenProvider_.startListening(Mi(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)w(!vn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((a,h,c)=>{if(!F(a)&&h&&vn(h))return[Xl(h).query];{let f=[];return h&&(f=f.concat(dv(h).map(m=>m.query))),qe(c,(m,_)=>{f=f.concat(_)}),f}});for(let a=0;a<u.length;++a){const h=u[a];e.listenProvider_.stopListening(Mi(h),pl(e,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new af(n)}node(){return this.node_}}class cf{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=he(this.path_,t);return new cf(this.syncTree_,n)}node(){return mv(this.syncTree_,this.path_)}}const RI=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Op=function(e,t,n){if(!e||typeof e!="object")return e;if(w(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return xI(e[".sv"],t,n);if(typeof e[".sv"]=="object")return PI(e[".sv"],t);w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},xI=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+e)}},PI=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);const i=t.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},AI=function(e,t,n,r){return hf(t,new cf(n,e),r)},DI=function(e,t,n){return hf(e,new af(t),n)};function hf(e,t,n){const r=e.getPriority().val(),i=Op(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Op(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new pe(l,Ae(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pe(i))),o.forEachChild(ie,(l,u)=>{const a=hf(u,t.getImmediateChild(l),n);a!==u&&(s=s.updateImmediateChild(l,a))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function df(e,t){let n=t instanceof K?t:new K(t),r=e,i=M(n);for(;i!==null;){const s=Ur(r.node.children,i)||{children:{},childCount:0};r=new ff(i,r,s),n=Q(n),i=M(n)}return r}function Zr(e){return e.node.value}function Ev(e,t){e.node.value=t,gc(e)}function wv(e){return e.node.childCount>0}function OI(e){return Zr(e)===void 0&&!wv(e)}function Zl(e,t){qe(e.node.children,(n,r)=>{t(new ff(n,e,r))})}function Cv(e,t,n,r){n&&!r&&t(e),Zl(e,i=>{Cv(i,t,!0,r)}),n&&r&&t(e)}function LI(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Us(e){return new K(e.parent===null?e.name:Us(e.parent)+"/"+e.name)}function gc(e){e.parent!==null&&MI(e.parent,e.name,e)}function MI(e,t,n){const r=OI(n),i=Yt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,gc(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,gc(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=/[\[\].#$\/\u0000-\u001F\u007F]/,$I=/[\[\].#$\u0000-\u001F\u007F]/,Gu=10*1024*1024,Sv=function(e){return typeof e=="string"&&e.length!==0&&!FI.test(e)},Tv=function(e){return typeof e=="string"&&e.length!==0&&!$I.test(e)},UI=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Tv(e)},Iv=function(e,t,n){const r=n instanceof K?new eT(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Pn(r));if(typeof t=="function")throw new Error(e+"contains a function "+Pn(r)+" with contents = "+t.toString());if(Iy(t))throw new Error(e+"contains "+t.toString()+" "+Pn(r));if(typeof t=="string"&&t.length>Gu/3&&Dl(t)>Gu)throw new Error(e+"contains a string greater than "+Gu+" utf8 bytes "+Pn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(qe(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Sv(o)))throw new Error(e+" contains an invalid key ("+o+") "+Pn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tT(r,o),Iv(e,l,r),nT(r)}),i&&s)throw new Error(e+' contains ".value" child '+Pn(r)+" in addition to actual children.")}},kv=function(e,t,n,r){if(!(r&&n===void 0)&&!Tv(n))throw new Error(a_(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zI=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kv(e,t,n,r)},jI=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Sv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UI(n))throw new Error(a_(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nv(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Qh(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Rv(e,t,n){Nv(e,n),xv(e,r=>Qh(r,t))}function er(e,t,n){Nv(e,n),xv(e,r=>yt(r,t)||yt(t,r))}function xv(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(VI(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function VI(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();jn&&Pe("event: "+n.toString()),Ms(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="repo_interrupt",WI=25;class GI{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ll(),this.transactionQueueTree_=new ff,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KI(e,t,n){if(e.stats_=Gh(e.repoInfo_),e.forceRestClient_||IS())e.server_=new ol(e.repoInfo_,(r,i,s,o)=>{Lp(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Mp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new jt(e.repoInfo_,t,(r,i,s,o)=>{Lp(e,r,i,s,o)},r=>{Mp(e,r)},r=>{YI(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=PS(e.repoInfo_,()=>new RT(e.stats_,e.server_)),e.infoData_=new ST,e.infoSyncTree_=new Ap({startListening:(r,i,s,o)=>{let l=[];const u=e.infoData_.getNode(r._path);return u.isEmpty()||(l=bl(e.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),pf(e,"connected",!1),e.serverSyncTree_=new Ap({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,u)=>{const a=o(l,u);er(e.eventQueue_,r._path,a)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function QI(e){const n=e.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pv(e){return RI({timestamp:QI(e)})}function Lp(e,t,n,r,i){e.dataUpdateCount++;const s=new K(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const u=Yo(n,a=>Ae(a));o=SI(e.serverSyncTree_,s,u,i)}else{const u=Ae(n);o=CI(e.serverSyncTree_,s,u,i)}else if(r){const u=Yo(n,a=>Ae(a));o=vI(e.serverSyncTree_,s,u)}else{const u=Ae(n);o=bl(e.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=mf(e,s)),er(e.eventQueue_,l,o)}function Mp(e,t){pf(e,"connected",t),t===!1&&XI(e)}function YI(e,t){qe(t,(n,r)=>{pf(e,n,r)})}function pf(e,t,n){const r=new K("/.info/"+t),i=Ae(n);e.infoData_.updateSnapshot(r,i);const s=bl(e.infoSyncTree_,r,i);er(e.eventQueue_,r,s)}function qI(e){return e.nextWriteId_++}function XI(e){Av(e,"onDisconnectEvents");const t=Pv(e),n=ll();uc(e.onDisconnect_,B(),(i,s)=>{const o=AI(i,s,e.serverSyncTree_,t);nv(n,i,o)});let r=[];uc(n,B(),(i,s)=>{r=r.concat(bl(e.serverSyncTree_,i,s));const o=tk(e,i);mf(e,o)}),e.onDisconnect_=ll(),er(e.eventQueue_,B(),r)}function bI(e,t,n){let r;M(t._path)===".info"?r=Dp(e.infoSyncTree_,t,n):r=Dp(e.serverSyncTree_,t,n),Rv(e.eventQueue_,t._path,r)}function Fp(e,t,n){let r;M(t._path)===".info"?r=pc(e.infoSyncTree_,t,n):r=pc(e.serverSyncTree_,t,n),Rv(e.eventQueue_,t._path,r)}function JI(e){e.persistentConnection_&&e.persistentConnection_.interrupt(HI)}function Av(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Pe(n,...t)}function Dv(e,t,n){return mv(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function gf(e,t=e.transactionQueueTree_){if(t||eu(e,t),Zr(t)){const n=Lv(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ZI(e,Us(t),n)}else wv(t)&&Zl(t,n=>{gf(e,n)})}function ZI(e,t,n){const r=n.map(a=>a.currentWriteId),i=Dv(e,t,r);let s=i;const o=i.hash();for(let a=0;a<n.length;a++){const h=n[a];w(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const c=We(t,h.path);s=s.updateChild(c,h.currentOutputSnapshotRaw)}const l=s.val(!0),u=t;e.server_.put(u.toString(),l,a=>{Av(e,"transaction put response",{path:u.toString(),status:a});let h=[];if(a==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(yr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();eu(e,df(e.transactionQueueTree_,t)),gf(e,e.transactionQueueTree_),er(e.eventQueue_,t,h);for(let f=0;f<c.length;f++)Ms(c[f])}else{if(a==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{et("transaction at "+u.toString()+" failed: "+a);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=a}mf(e,t)}},o)}function mf(e,t){const n=Ov(e,t),r=Us(n),i=Lv(e,n);return ek(e,i,r),r}function ek(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const u=t[l],a=We(n,u.path);let h=!1,c;if(w(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)h=!0,c=u.abortReason,i=i.concat(yr(e.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=WI)h=!0,c="maxretry",i=i.concat(yr(e.serverSyncTree_,u.currentWriteId,!0));else{const f=Dv(e,u.path,o);u.currentInputSnapshot=f;const m=t[l].update(f.val());if(m!==void 0){Iv("transaction failed: Data returned ",m,u.path);let _=Ae(m);typeof m=="object"&&m!=null&&Yt(m,".priority")||(_=_.updatePriority(f.getPriority()));const A=u.currentWriteId,p=Pv(e),d=DI(_,f,p);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=d,u.currentWriteId=qI(e),o.splice(o.indexOf(A),1),i=i.concat(yI(e.serverSyncTree_,u.path,d,u.currentWriteId,u.applyLocally)),i=i.concat(yr(e.serverSyncTree_,A,!0))}else h=!0,c="nodata",i=i.concat(yr(e.serverSyncTree_,u.currentWriteId,!0))}er(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(c==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(c),!1,null))))}eu(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ms(r[l]);gf(e,e.transactionQueueTree_)}function Ov(e,t){let n,r=e.transactionQueueTree_;for(n=M(t);n!==null&&Zr(r)===void 0;)r=df(r,n),t=Q(t),n=M(t);return r}function Lv(e,t){const n=[];return Mv(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Mv(e,t,n){const r=Zr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Zl(t,i=>{Mv(e,i,n)})}function eu(e,t){const n=Zr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ev(t,n.length>0?n:void 0)}Zl(t,r=>{eu(e,r)})}function tk(e,t){const n=Us(Ov(e,t)),r=df(e.transactionQueueTree_,t);return LI(r,i=>{Ku(e,i)}),Ku(e,r),Cv(r,i=>{Ku(e,i)}),n}function Ku(e,t){const n=Zr(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(w(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(w(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(yr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ev(t,void 0):n.length=s+1,er(e.eventQueue_,Us(t),i);for(let o=0;o<r.length;o++)Ms(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function rk(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):et(`Invalid query segment '${n}' in query '${e}'`)}return t}const $p=function(e,t){const n=ik(e),r=n.namespace;n.domain==="firebase.com"&&Kt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Kt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mS();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $y(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new K(n.pathString)}},ik=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof e=="string"){let a=e.indexOf("//");a>=0&&(l=e.substring(0,a-1),e=e.substring(a+2));let h=e.indexOf("/");h===-1&&(h=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(h,c)),h<c&&(i=nk(e.substring(h,c)));const f=rk(e.substring(Math.min(e.length,c)));a=t.indexOf(":"),a>=0?(o=l==="https"||l==="wss",u=parseInt(t.substring(a+1),10)):a=t.length;const m=t.slice(0,a);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}}class $v{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return F(this._path)?null:Ky(this._path)}get ref(){return new qt(this._repo,this._path)}get _queryIdentifier(){const t=Ep(this._queryParams),n=Hh(t);return n==="{}"?"default":n}get _queryObject(){return Ep(this._queryParams)}isEqual(t){if(t=Ol(t),!(t instanceof _f))return!1;const n=this._repo===t._repo,r=Qh(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ZS(this._path)}}class qt extends _f{constructor(t,n){super(t,n,new bh,!1)}get parent(){const t=Yy(this._path);return t===null?null:new qt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class ys{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new K(t),r=gl(this.ref,t);return new ys(this._node.getChild(n),r,ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new ys(i,gl(this.ref,r),ie)))}hasChild(t){const n=new K(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ok(e,t){return e=Ol(e),e._checkNotDeleted("ref"),t!==void 0?gl(e._root,t):e._root}function gl(e,t){return e=Ol(e),M(e._path)===null?zI("child","path",t,!1):kv("child","path",t,!1),new qt(e._repo,he(e._path,t))}class yf{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Fv("value",this,new ys(t.snapshotNode,new qt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new $v(this,t,n):null}matches(t){return t instanceof yf?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class vf{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new $v(this,t,n):null}createEvent(t,n){w(t.childName!=null,"Child events should have a childName.");const r=gl(new qt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Fv(t.type,this,new ys(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof vf?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function lk(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,a=(h,c)=>{Fp(e._repo,e,l),u(h,c)};a.userCallback=n.userCallback,a.context=n.context,n=a}const o=new sk(n,s||void 0),l=t==="value"?new yf(o):new vf(t,o);return bI(e._repo,e,l),()=>Fp(e._repo,e,l)}function uk(e,t,n,r){return lk(e,"value",t,n,r)}aI(qt);gI(qt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="FIREBASE_DATABASE_EMULATOR_HOST",mc={};let ck=!1;function hk(e,t,n,r){e.repoInfo_=new $y(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function fk(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Kt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=$p(s,i),l=o.repoInfo,u,a;typeof process<"u"&&process.env&&(a=process.env[ak]),a?(u=!0,s=`http://${a}?ns=${l.namespace}`,o=$p(s,i),l=o.repoInfo):u=!o.repoInfo.secure;const h=i&&u?new Rr(Rr.OWNER):new NS(e.name,e.options,t);jI("Invalid Firebase Database URL",o),F(o.path)||Kt("Database URL must point to the root of a Firebase Database (not including a child path).");const c=pk(l,e,h,new kS(e.name,n));return new gk(c,e)}function dk(e,t){const n=mc[t];(!n||n[e.key]!==e)&&Kt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),JI(e),delete n[e.key]}function pk(e,t,n,r){let i=mc[t.name];i||(i={},mc[t.name]=i);let s=i[e.toURLString()];return s&&Kt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new GI(e,ck,n,r),i[e.toURLString()]=s,s}class gk{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qt(this._repo,B())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Kt("Cannot call "+t+" on a deleted database.")}}function mk(e=g_(),t){const n=f_(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=n_("database");r&&_k(n,...r)}return n}function _k(e,t,n,r={}){e=Ol(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Kt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Kt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Rr(Rr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:i_(r.mockUserToken,e.app.options.projectId);s=new Rr(o)}hk(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(e){hS(d_),ts(new zr("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return fk(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pn(rp,ip,e),pn(rp,ip,"esm2017")}jt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};jt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};yk();const vk={apiKey:"AIzaSyAD-RzUvbUYflmXsrn7d7IGs-MRexpjdCE",authDomain:"smartweathersystem-8041c.firebaseapp.com",databaseURL:"https://smartweathersystem-8041c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"smartweathersystem-8041c",storageBucket:"smartweathersystem-8041c.appspot.com",messagingSenderId:"203021795339",appId:"1:203021795339:web:9b44367d6474452800c70e"},Uv=p_(vk),Ek=mk(Uv),wk="/assets/BG-f1b5ca9a.jpg";lS(Uv);function Ck(){const[e,t]=Fi.useState({Temperature:0,Humidity:0,Pressure:""});return Fi.useEffect(()=>((async()=>(console.log("data "),await uk(ok(Ek),function(n){const r=n.val();r!=null&&(console.log("this is real time data"),console.log(r),console.log(r.Weather),(e.Humidity!=r.Weather.Humidity||e.Pressure!=r.Weather.Pressure||e.Temperature!=r.Weather.Temperature)&&t(()=>({Temperature:r.Weather.Temperature,Humidity:r.Weather.Humidity,Pressure:r.Weather.Pressure})))})))(),()=>{}),[e]),V.jsxs(V.Fragment,{children:[V.jsx("h1",{children:"Smart Weather System"}),e?V.jsx("section",{className:"Today",style:{backgroundImage:`url('${wk}')`},children:V.jsxs("div",{className:"Weather-Info",children:[V.jsx("img",{src:"https://www.svgrepo.com/show/407540/sun.svg"}),V.jsxs("div",{children:[e.Temperature?V.jsxs("h4",{children:[e.Temperature,"C"]}):V.jsx("p",{children:'"nope"'}),V.jsx("h3",{children:"الحرارة"})]}),V.jsxs("div",{children:[e.Pressure?V.jsxs("h4",{children:[e.Pressure," pa"]}):V.jsx("p",{children:'"nope"'}),V.jsx("h3",{children:"الضغط الجوي"})]}),V.jsxs("h3",{className:"FK",children:[" و تكون الحالة الجوية",e.Temperature>=40?V.jsx(V.Fragment,{children:" حار جدا "}):e.Temperature>=35?V.jsx(V.Fragment,{children:" حار "}):e.Temperature>=30?V.jsx(V.Fragment,{children:" معتدل صيفي "}):V.jsx(V.Fragment,{children:" معتدل ربيعي "}),"في جميع مناطق المملكة "]})]})}):V.jsx("h1",{children:" No weather information"})]})}function Sk(){return V.jsx(V.Fragment,{children:V.jsx(Ck,{})})}Qu.createRoot(document.getElementById("root")).render(V.jsx(n0.StrictMode,{children:V.jsx(Sk,{})}));
